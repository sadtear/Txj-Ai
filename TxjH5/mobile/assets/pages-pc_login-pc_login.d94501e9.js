import{_ as a}from"./page-meta.66d6713f.js";import{d as e,r as s,a2 as t,a3 as l,a4 as c,o as r,i as n,g as u,e as o,f as i,h as p,t as f,j as m,F as _,a5 as y,a6 as d,a as g,b as x,k as v,_ as k}from"./index-7044850c.js";import{_ as h}from"./u-avatar.3fcdc4b9.js";import"./u-icon.593ee39b.js";const j=k(e({__name:"pc_login",setup(e){const k=s({}),j=y(),I=async(a={getUrl:!0})=>{let e=null;const{code:s,key:t="",getUrl:r}=a;s&&(e=await d({code:s,key:t}),k.value=e),r&&await l.getUrl(c.PC_LOGIN)};return t((()=>{const a=j.query,e=l.getAuthData();if(e.code&&e.scene==c.PC_LOGIN)try{I({...a,...e})}catch(s){}finally{l.setAuthData()}else a.is_pc&&a.key&&I()})),(e,s)=>{const t=g(x("page-meta"),a),l=g(x("u-avatar"),h),c=v;return r(),n(_,null,[u(t,{"page-style":e.$theme.pageStyle},null,8,["page-style"]),k.value.token?(r(),o(c,{key:0,class:"h-full flex flex-col items-center justify-center"},{default:i((()=>[u(l,{size:"140",src:k.value.avatar},null,8,["src"]),u(c,{class:"my-[30rpx] text-xl"},{default:i((()=>[p(f(k.value.nickname),1)])),_:1}),u(c,{class:"text-[36rpx]"},{default:i((()=>[p("微信授权成功")])),_:1})])),_:1})):m("",!0)],64)}}}),[["__scopeId","data-v-5c1051c2"]]);export{j as default};
