import{_ as e,B as l,a2 as t,ba as a,r as s,bb as r,aS as o,o as i,e as n,f as d,bc as u,k as f,g as c,h as p,t as m,i as x,l as g,F as h,H as y,bd as _,K as w,L as I,a as b,b as v}from"./index-7044850c.js";import{_ as k}from"./u-icon.593ee39b.js";import{_ as j,a as L}from"./u-waterfall.ba7dc9da.js";import{_ as N}from"./u-modal.e522d6dd.js";import{_ as z}from"./more-right.1c7b5787.js";import{m as C,h as U}from"./skills.7ca36a0a.js";import{c as V}from"./tools.60251ff5.js";import"./u-loading.3bc13172.js";import"./u-popup.449ebc77.js";const B=e({__name:"picList",setup(e){const B=()=>{y({url:"/pages/skills/workInfo/workInfo"})},K=l({show:!1,content:"空山新雨后<br>\n\t\t\t\t\t天气晚来秋",imgList:[],delImg:{id:""},userId:"",authorInfo:{}});t((()=>{const e=u();console.log("option",e.attrs.from),K.userId=e.attrs.from,M(K.userId),a({userId:K.userId}).then((e=>{console.log("authorInfo: ",e),K.authorInfo=e,console.log("authorInfo: ",K.authorInfo)}))})),s(null);const S=s(1),D=s(10),F=s(0),H=s(!1),M=e=>{H.value=!0,C({pageNo:S.value,pageSize:D.value,userId:e}).then((e=>{console.log("res: ",e),e.lists=V(e.lists,"imageUrl"),1==S.value?K.imgList=e.lists:K.imgList=[...K.imgList,...e.lists],F.value=e.count,H.value=!1})).catch((e=>{H.value=!1}))};r((()=>{if(console.log("onReachBottom",H.value),!H.value){if(10*S.value>=F.value)return console.log("没有更多啦"),void o({title:"靓仔到底啦！",icon:"none"});S.value++,M(K.userId)}}));const R=e=>{y({url:"/pages/skills/workInfo/workInfo?taskId="+e.id})},$=()=>{_({url:"/pages/skills/skills"})};s(null);const q=s(),A=()=>{K.show=!1,console.log("state.delImg",K.delImg);const e=[K.delImg.id];U(e).then((e=>{q.value.remove(K.delImg.id),console.log("delDraw: ",K.imgList)}))};return(e,l)=>{const t=w,a=f,s=I,r=b(v("u-icon"),k),o=b(v("u-lazy-load"),j),u=b(v("u-waterfall"),L),y=b(v("u-modal"),N);return i(),n(a,{class:"list-box flex flex-column"},{default:d((()=>[c(a,{class:"nav-bar flex flex-align space-between"},{default:d((()=>[c(a,{class:"nav-lr",onClick:$},{default:d((()=>[c(t,{class:"nav-img",style:{transform:"rotate(180deg)",width:"45rpx",height:"45rpx"},src:z,mode:""})])),_:1}),c(a,{class:"flex flex-1 flex-center"},{default:d((()=>[p(" 作者详情 ")])),_:1}),c(a,{class:"nav-lr"})])),_:1}),c(a,{style:{width:"95%",height:"350rpx",display:"flex","justify-content":"center",position:"relative",margin:"0 auto","border-radius":"20px",overflow:"hidden"}},{default:d((()=>[c(t,{src:K.authorInfo.avatar,mode:"",style:{position:"absolute",width:"100%",height:"100%",filter:"blur(20px)","border-radius":"20rpx"}},null,8,["src"]),c(a,{style:{position:"absolute",width:"95%",height:"350rpx",margin:"0 auto"}},{default:d((()=>[c(a,{style:{position:"absolute",border:"0ch",width:"100%",height:"350rpx",display:"flex","flex-direction":"column","justify-content":"space-around","padding-top":"20rpx","padding-bottom":"20rpx"}},{default:d((()=>[c(a,{style:{width:"100%",display:"flex","justify-content":"center"}},{default:d((()=>[c(t,{src:K.authorInfo.avatar,style:{width:"120rpx",height:"120rpx","border-radius":"50%",opacity:"0.85"}},null,8,["src"])])),_:1}),c(a,{style:{width:"100%",display:"flex","justify-content":"center"}},{default:d((()=>[c(s,{style:{color:"#fff","font-size":"34rpx","font-weight":"700"}},{default:d((()=>[p(m(K.authorInfo.nickname),1)])),_:1})])),_:1}),c(a,{style:{display:"flex",color:"#fff",width:"100%","justify-content":"space-around","font-size":"30rpx","font-weight":"600"}},{default:d((()=>[c(a,{onClick:B,style:{display:"flex","flex-direction":"column","justify-content":"space-around","align-items":"center",width:"100rpx",height:"80rpx"}},{default:d((()=>[c(s,null,{default:d((()=>[p(m(K.authorInfo.collectNum),1)])),_:1}),c(s,null,{default:d((()=>[p("收藏")])),_:1})])),_:1}),c(a,{style:{display:"flex","flex-direction":"column","justify-content":"space-around","align-items":"center",width:"100rpx",height:"80rpx"}},{default:d((()=>[c(s,null,{default:d((()=>[p(m(K.authorInfo.drawNum),1)])),_:1}),c(s,null,{default:d((()=>[p("投稿")])),_:1})])),_:1}),c(a,{style:{display:"flex","flex-direction":"column","justify-content":"space-around","align-items":"center",width:"100rpx",height:"80rpx"}},{default:d((()=>[c(s,null,{default:d((()=>[p(m(K.authorInfo.beUsageNum),1)])),_:1}),c(s,null,{default:d((()=>[p("被同款")])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})])),_:1}),c(a,{class:"flex justify-between c-9",style:{padding:"30rpx 30rpx"}},{default:d((()=>[c(a,{class:"flex"},{default:d((()=>[c(a,{style:{color:"#fff"}},{default:d((()=>[p("最新")])),_:1}),c(a,{style:{"margin-left":"20rpx"}},{default:d((()=>[p("热门")])),_:1})])),_:1}),c(a,null,{default:d((()=>[c(s,null,{default:d((()=>[p("筛选模型 ")])),_:1}),c(r,{name:"setting",color:"#999a9a",size:"30"})])),_:1})])),_:1}),c(a,{style:{padding:"0 30rpx"}},{default:d((()=>[c(u,{modelValue:K.imgList,"onUpdate:modelValue":l[0]||(l[0]=e=>K.imgList=e),ref_key:"waterfall",ref:q},{left:d((({leftList:e})=>[(i(!0),x(h,null,g(e,((e,l)=>(i(),n(a,{class:"left-warter",key:l,onClick:l=>R(e)},{default:d((()=>[c(o,{threshold:"-450","border-radius":"14rpx 14rpx 0 0",image:e.imageUrl,index:l},null,8,["image","index"]),c(a,{style:{"background-color":"#1a1a1a",padding:"10rpx 0","border-radius":"0 0 14rpx 14rpx"}},{default:d((()=>[c(a,{style:{padding:"10rpx 20rpx",color:"#f1f1f1"}},{default:d((()=>[p(m(e.styleName),1)])),_:2},1024),c(a,{class:"c-9 flex justify-between",style:{padding:"10rpx 20rpx"}},{default:d((()=>[c(a,{style:{"align-items":"center",display:"flex"}},{default:d((()=>[c(t,{src:K.authorInfo.avatar,style:{width:"40rpx",height:"40rpx","border-radius":"50%"}},null,8,["src"]),c(a,{style:{"margin-left":"10rpx"}},{default:d((()=>[p(m(K.authorInfo.nickname),1)])),_:1})])),_:1}),c(a,{style:{"align-items":"center",display:"flex"}},{default:d((()=>[c(r,{name:"heart",size:"28"}),c(s,{style:{"margin-left":"4rpx"}},{default:d((()=>[p(m(e.collectNum),1)])),_:2},1024)])),_:2},1024)])),_:2},1024)])),_:2},1024)])),_:2},1032,["onClick"])))),128))])),right:d((({rightList:e})=>[(i(!0),x(h,null,g(e,((e,l)=>(i(),n(a,{class:"right-warter",key:l,onClick:l=>R(e)},{default:d((()=>[c(o,{threshold:"-450","border-radius":"14rpx 14rpx 0 0",image:e.imageUrl,index:l},null,8,["image","index"]),c(a,{style:{"background-color":"#1a1a1a",padding:"10rpx 0","border-radius":"0 0 14rpx 14rpx"}},{default:d((()=>[c(a,{style:{padding:"10rpx 20rpx","padding-top":"20rpx",color:"#f1f1f1"}},{default:d((()=>[p(m(e.styleName),1)])),_:2},1024),c(a,{class:"c-9 flex justify-between",style:{padding:"10rpx 20rpx"}},{default:d((()=>[c(a,{style:{"align-items":"center",display:"flex"}},{default:d((()=>[c(t,{src:K.authorInfo.avatar,style:{width:"40rpx",height:"40rpx","border-radius":"50%"}},null,8,["src"]),c(a,{style:{"margin-left":"10rpx"}},{default:d((()=>[p(m(K.authorInfo.nickname),1)])),_:1})])),_:1}),c(a,{style:{"align-items":"center",display:"flex"}},{default:d((()=>[c(r,{name:"heart",size:"28"}),c(s,{style:{"margin-left":"4rpx"}},{default:d((()=>[p(m(e.collectNum),1)])),_:2},1024)])),_:2},1024)])),_:2},1024)])),_:2},1024)])),_:2},1032,["onClick"])))),128))])),_:1},8,["modelValue"])])),_:1}),c(y,{modelValue:K.show,"onUpdate:modelValue":l[1]||(l[1]=e=>K.show=e),title:"温馨提示",content:"是否要删除","show-cancel-button":!0,"confirm-text":"删除",onConfirm:A},null,8,["modelValue"])])),_:1})}}},[["__scopeId","data-v-2d981d42"]]);export{B as default};
