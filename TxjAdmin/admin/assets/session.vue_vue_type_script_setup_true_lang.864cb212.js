import{W as X,X as K,Z as W,w as Z,C as H,D as J,F as Y,c as $,a as ee,B as ue,G as te}from"./element-plus.28f30ed2.js";import{a as se,b as le}from"./AI.bce785c3.js";import{f as ae}from"./index.93d1c242.js";import{d as oe,s as ne,r as D,e as x,ag as pe,o as p,c as r,V as t,M as o,a as s,u,k as re,U as b,aa as V,L as k,S as F,T as w,R as i}from"./@vue.cb90fff3.js";const ie={class:"pt-[10px]"},de={key:0},ce=s("span",{class:"form-tips !text-[14px]"},"\u5F00\u901A\u7F51\u5740\uFF1Ahttps://open.bigmodel.cn/",-1),me={href:"https://open.bigmodel.cn/",target:"_blank",rel:"noopener noreferrer"},_e={key:1},xe=s("span",{class:"form-tips !text-[14px]"},"\u5F00\u901A\u7F51\u5740\uFF1Ahttps://cloud.baidu.com/product/wenxinworkshop?track=jinggangwei",-1),Fe={href:"https://cloud.baidu.com/product/wenxinworkshop?track=jinggangwei",target:"_blank",rel:"noopener noreferrer"},fe={key:2},Ee=s("span",{class:"form-tips !text-[14px]"},"\u5F00\u901A\u7F51\u5740\uFF1Ahttps://console.xfyun.cn",-1),Ae={href:"https://console.xfyun.cn",target:"_blank",rel:"noopener noreferrer"},ye={key:3},De=s("span",{class:"form-tips !text-[14px]"},"\u5982\u679C\u60A8\u5DF2\u5F00\u901A\uFF0C\u53EF\u76F4\u63A5\u586B\u5199\uFF1B\u5982\u679C\u672A\u5F00\u901A\uFF0C\u70B9\u51FB",-1),ke={href:"https://api2d.com/r/207827",target:"_blank",rel:"noopener noreferrer"},Ce={class:"flex flex-wrap max-w-[500px]"},ve={key:0,class:"w-[190px] mr-[20px] mb-[20px]"},Be={class:"flex items-center text-tx-regular text-xs"},ge=s("span",{class:"mr-[4px] mt-[2px]"},"\u4E0A\u4E0B\u6587\u603B\u6570",-1),he={key:1,class:"w-[190px] mr-[20px] mb-[20px]"},be={class:"flex items-center text-tx-regular text-xs"},Ve=s("span",{class:"mr-[4px] mt-[2px]"},"\u6700\u5927\u56DE\u590D",-1),we={key:2,class:"w-[190px] mr-[20px] mb-[20px]"},Ue={class:"flex items-center text-tx-regular text-xs"},Ie=s("span",{class:"mr-[4px] mt-[2px]"},"\u8BCD\u6C47\u5C5E\u6027",-1),qe={key:3,class:"w-[190px] mr-[20px] mb-[20px]"},Re={class:"flex items-center text-tx-regular text-xs"},ze=s("span",{class:"mr-[4px] mt-[2px]"},"\u968F\u673A\u5C5E\u6027",-1),Se={key:4,class:"w-[190px] mr-[20px] mb-[20px]"},Ne={class:"flex items-center text-tx-regular text-xs"},je=s("span",{class:"mr-[4px] mt-[2px]"},"\u8BDD\u9898\u5C5E\u6027",-1),Ge={key:5,class:"w-[190px] mr-[20px] mb-[20px]"},Le={class:"flex items-center text-tx-regular text-xs"},Oe=s("span",{class:"mr-[4px] mt-[2px]"},"\u91CD\u590D\u5C5E\u6027",-1),Pe={class:"flex"},Te={class:"form-tips !text-[14px]"},Ze=oe({__name:"session",props:{popRef:{type:Object,default:{}}},setup(Me,{expose:U}){const C=ne(),f=D(""),v=D(),e=D({key:"",agency_api:"",n:0,temperature:"",context_num:"",top_p:"",presence_penalty:"",frequency_penalty:""}),B=D([]),I={api_key:[{required:!0,message:"\u8BF7\u8F93\u5165\u79D8\u94A5",trigger:["blur"]}],api_type:[{required:!0,message:"\u8BF7\u9009\u62E9",trigger:["blur"]}]},q=x(()=>{var n;return(n=e.value.key)==null?void 0:n.includes("chatglm")}),R=x(()=>{var n;return(n=e.value.key)==null?void 0:n.includes("xunfei")}),z=x(()=>{var n;return(n=e.value.key)==null?void 0:n.includes("ernie")}),g=x(()=>{var n;return(n=e.value.key)==null?void 0:n.includes("api2d")}),S=x(()=>{var n;return(n=e.value.key)==null?void 0:n.includes("gpt")}),N=n=>{var l;e.value=v.value[n],e.value.status=1,(l=e.value.api_key)!=null&&l.length||(e.value.api_key=[""])},j=async()=>{const{ai_config_lists:n}=await se();B.value=n,v.value=n,Object.keys(n).map(l=>{var E;n[l].status==1&&(f.value=l,e.value=n[l],(E=e.value.api_key)!=null&&E.length||(e.value.api_key=[""]))})},G=async()=>{await C.value.validate(),le(e.value),ae.msgSuccess("\u4FDD\u5B58\u6210\u529F")};return j(),U({submit:G}),(n,l)=>{const E=X,L=K,A=Z,y=H,O=J,P=Y,d=pe("QuestionFilled"),c=$,m=ee,_=W,T=ue,M=te;return p(),r("div",ie,[t(M,{"label-width":"120px",ref_key:"formRef",ref:C,rules:I,model:u(e)},{default:o(()=>{var h;return[t(y,{label:"AI\u63A5\u53E3",class:"is-required"},{default:o(()=>[s("div",null,[t(L,{modelValue:u(f),"onUpdate:modelValue":l[0]||(l[0]=a=>re(f)?f.value=a:null),onChange:N},{default:o(()=>[(p(!0),r(b,null,V(u(B),(a,Q)=>(p(),k(E,{key:Q,label:a.key,disabled:!a.status},{default:o(()=>[F(w(a.name),1)]),_:2},1032,["label","disabled"]))),128))]),_:1},8,["modelValue"]),u(q)?(p(),r("div",de,[ce,s("a",me,[t(A,{type:"primary",link:"",class:"ml-2"},{default:o(()=>[F("\u524D\u5F80\u5F00\u901A")]),_:1})])])):i("",!0),u(z)?(p(),r("div",_e,[xe,s("a",Fe,[t(A,{type:"primary",link:"",class:"ml-2"},{default:o(()=>[F("\u524D\u5F80\u5F00\u901A")]),_:1})])])):i("",!0),u(R)?(p(),r("div",fe,[Ee,s("a",Ae,[t(A,{type:"primary",link:"",class:"ml-2"},{default:o(()=>[F("\u524D\u5F80\u5F00\u901A")]),_:1})])])):i("",!0),u(g)?(p(),r("div",ye,[De,s("a",ke,[t(A,{type:"primary",link:"",class:"ml-2"},{default:o(()=>[F("\u524D\u5F80\u5F00\u901A")]),_:1})])])):i("",!0)])]),_:1}),(h=u(e).model_list)!=null&&h.length?(p(),k(y,{key:0,label:"\u6A21\u578B",prop:"name"},{default:o(()=>[s("div",null,[t(P,{class:"w-[400px]",modelValue:u(e).model,"onUpdate:modelValue":l[1]||(l[1]=a=>u(e).model=a)},{default:o(()=>[(p(!0),r(b,null,V(u(e).model_list,a=>(p(),k(O,{value:a,label:a,key:a},null,8,["value","label"]))),128))]),_:1},8,["modelValue"])])]),_:1})):i("",!0),t(y,{label:"\u53C2\u6570\u8BBE\u7F6E",class:"is-required"},{default:o(()=>[s("div",Ce,[u(e).context_num!==null?(p(),r("div",ve,[s("div",Be,[ge,t(m,{class:"box-item",effect:"dark",content:"\u751F\u6210\u6587\u672C\u7684\u6700\u5927\u957F\u5EA6\uFF0C\u53D6\u503C\u8303\u56F4\u4E3A1~5\u4E4B\u95F4\u7684\u6574\u6570",placement:"top"},{default:o(()=>[t(c,{size:"16px"},{default:o(()=>[t(d)]),_:1})]),_:1})]),t(_,{modelValue:u(e).context_num,"onUpdate:modelValue":l[2]||(l[2]=a=>u(e).context_num=a),min:1,max:5},null,8,["modelValue"])])):i("",!0),u(e).n!==null?(p(),r("div",he,[s("div",be,[Ve,t(m,{class:"box-item",effect:"dark",content:"\u4E3A\u6BCF\u4E2A\u8F93\u5165\u6D88\u606F\u751F\u6210\u591A\u5C11\u4E2A\u804A\u5929\u5B8C\u6210\u9009\u9879\uFF0C\u53D6\u503C\u8303\u56F4\u4E3A1~5\u4E4B\u95F4\u7684\u6574\u6570\u3002",placement:"top"},{default:o(()=>[t(c,{size:"16px"},{default:o(()=>[t(d)]),_:1})]),_:1})]),t(_,{modelValue:u(e).n,"onUpdate:modelValue":l[3]||(l[3]=a=>u(e).n=a),min:1,max:5},null,8,["modelValue"])])):i("",!0),u(e).temperature!==null?(p(),r("div",we,[s("div",Ue,[Ie,t(m,{class:"box-item",effect:"dark",content:"\u7528\u4E8E\u63A7\u5236\u751F\u6210\u6587\u672C\u7684\u968F\u673A\u6027\uFF0C\u53D6\u503C\u8303\u56F4\u4E3A0~1\u4E4B\u95F4\u7684\u6D6E\u70B9\u6570\uFF0C\u5EFA\u8BAE\u53D6\u503C0.7\u5DE6\u53F3\u3002",placement:"top"},{default:o(()=>[t(c,{size:"16px"},{default:o(()=>[t(d)]),_:1})]),_:1})]),t(_,{modelValue:u(e).temperature,"onUpdate:modelValue":l[4]||(l[4]=a=>u(e).temperature=a),min:0,max:1,step:.1},null,8,["modelValue"])])):i("",!0),u(e).top_p!==null?(p(),r("div",qe,[s("div",Re,[ze,t(m,{class:"box-item",effect:"dark",content:"\u7528\u4E8E\u63A7\u5236\u751F\u6210\u6587\u672C\u7684\u591A\u6837\u6027\uFF0C\u53D6\u503C\u8303\u56F4\u4E3A0~1\u4E4B\u95F4\u7684\u6D6E\u70B9\u6570\uFF0C\u5EFA\u8BAE\u53D6\u503C0.9\u5DE6\u53F3\u3002",placement:"top"},{default:o(()=>[t(c,{size:"16px"},{default:o(()=>[t(d)]),_:1})]),_:1})]),t(_,{modelValue:u(e).top_p,"onUpdate:modelValue":l[5]||(l[5]=a=>u(e).top_p=a),min:0,max:1,step:.1},null,8,["modelValue"])])):i("",!0),u(e).presence_penalty!==null?(p(),r("div",Se,[s("div",Ne,[je,t(m,{class:"box-item",effect:"dark",content:"\u7528\u4E8E\u63A7\u5236\u751F\u6210\u6587\u672C\u4E2D\u662F\u5426\u51FA\u73B0\u7ED9\u5B9A\u7684\u5173\u952E\u8BCD\uFF0C\u53D6\u503C\u8303\u56F4\u4E3A0~1\u4E4B\u95F4\u7684\u6D6E\u70B9\u6570\uFF0C\u5EFA\u8BAE\u53D6\u503C0.5\u5DE6\u53F3\u3002",placement:"top"},{default:o(()=>[t(c,{size:"16px"},{default:o(()=>[t(d)]),_:1})]),_:1})]),t(_,{modelValue:u(e).presence_penalty,"onUpdate:modelValue":l[6]||(l[6]=a=>u(e).presence_penalty=a),step:.1,min:0,max:1},null,8,["modelValue"])])):i("",!0),u(e).frequency_penalty!==null?(p(),r("div",Ge,[s("div",Le,[Oe,t(m,{class:"box-item",effect:"dark",content:"\u7528\u4E8E\u63A7\u5236\u751F\u6210\u6587\u672C\u4E2D\u91CD\u590D\u7684\u7A0B\u5EA6\uFF0C\u53D6\u503C\u8303\u56F4\u4E3A0~1\u4E4B\u95F4\u7684\u6D6E\u70B9\u6570\uFF0C\u5EFA\u8BAE\u53D6\u503C0.5\u5DE6\u53F3",placement:"top"},{default:o(()=>[t(c,{size:"16px"},{default:o(()=>[t(d)]),_:1})]),_:1})]),t(_,{modelValue:u(e).frequency_penalty,"onUpdate:modelValue":l[7]||(l[7]=a=>u(e).frequency_penalty=a),step:.1,min:0,max:1},null,8,["modelValue"])])):i("",!0)])]),_:1}),u(S)||u(g)?(p(),k(y,{key:1,label:"\u81EA\u5B9A\u4E49API\u57DF\u540D",prop:"agency_api"},{default:o(()=>[s("div",null,[s("div",Pe,[t(T,{placeholder:"\u8BF7\u8F93\u5165\u81EA\u5B9A\u4E49API\u57DF\u540D",class:"w-[400px]",modelValue:u(e).agency_api,"onUpdate:modelValue":l[8]||(l[8]=a=>u(e).agency_api=a)},null,8,["modelValue"])]),s("div",Te," \u53CD\u5411\u4EE3\u7406API\u57DF\u540D\uFF0C\u4E0D\u586B\u5199\u9ED8\u8BA4\u4E3A\uFF1A"+w(u(e).key=="api2d3.5"||u(e).key=="api2d4.0"?"https://openai.api2d.net":"https://api.openai.com"),1)])]),_:1})):i("",!0)]}),_:1},8,["model"])])}}});export{Ze as _};
