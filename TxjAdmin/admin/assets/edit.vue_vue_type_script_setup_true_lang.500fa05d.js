import{Z as T,C as j,B as G,D as Z,F as H,c as J,a as K,t as W,G as X}from"./element-plus.28f30ed2.js";import{_ as Y}from"./picker.388df1e2.js";import{p as $}from"./index.1d239a72.js";import{s as ee}from"./category.c6b58ff6.js";import{d as ue}from"./AI.bce785c3.js";import{r as E,f as te}from"./index.93d1c242.js";import{d as le,s as k,r as V,e as oe,_ as ae,ag as se,o as d,c as p,V as e,M as a,u,U as ne,aa as re,L as v,a as s,R as c}from"./@vue.cb90fff3.js";function Oe(n){return E.get({url:"/skill/manage/list",params:n})}function de(n){return E.post({url:"/skill/manage/add",params:n})}function me(n){return E.post({url:"/skill/manage/edit",params:n})}function Qe(n){return E.post({url:"/skill/manage/del",params:n})}function Te(n){return E.post({url:"/skill/manage/change",params:n})}function ie(n){return E.get({url:"/skill/manage/detail",params:n})}const pe={class:"edit-popup"},ce={class:"flex flex-wrap"},Fe={key:0,class:"w-[190px] mr-[20px] mb-[20px]"},xe={class:"flex items-center text-tx-regular text-xs"},fe=s("span",{class:"mr-[4px] mt-[2px]"},"\u4E0A\u4E0B\u6587\u603B\u6570",-1),_e={key:1,class:"w-[190px] mr-[20px] mb-[20px]"},Ee={class:"flex items-center text-tx-regular text-xs"},ge=s("span",{class:"mr-[4px] mt-[2px]"},"\u6700\u5927\u56DE\u590D",-1),Ce={key:2,class:"w-[190px] mr-[20px] mb-[20px]"},Be={class:"flex items-center text-tx-regular text-xs"},De=s("span",{class:"mr-[4px] mt-[2px]"},"\u8BCD\u6C47\u5C5E\u6027",-1),Ve={key:3,class:"w-[190px] mr-[20px] mb-[20px]"},Ae={class:"flex items-center text-tx-regular text-xs"},ye=s("span",{class:"mr-[4px] mt-[2px]"},"\u968F\u673A\u5C5E\u6027",-1),be={key:4,class:"w-[190px] mr-[20px] mb-[20px]"},ke={class:"flex items-center text-tx-regular text-xs"},ve=s("span",{class:"mr-[4px] mt-[2px]"},"\u8BDD\u9898\u5C5E\u6027",-1),we={key:5,class:"w-[190px] mr-[20px] mb-[20px]"},Ue={class:"flex items-center text-tx-regular text-xs"},qe=s("span",{class:"mr-[4px] mt-[2px]"},"\u91CD\u590D\u5C5E\u6027",-1),he={class:"flex-1"},Pe=s("div",{class:"form-tips"},"\u9ED8\u8BA4\u4E3A0\uFF0C\u6570\u503C\u8D8A\u5927\u8D8A\u6392\u524D\u9762",-1),je=le({__name:"edit",emits:["success","close"],setup(n,{expose:w,emit:A}){const y=k(),B=k(),D=V("add"),U=oe(()=>D.value=="add"?"\u65B0\u589E\u6280\u80FD":"\u7F16\u8F91\u6280\u80FD"),l=ae({id:"",name:"",categoryId:"",content:"",sort:0,isEnable:1,image:"",tips:"",describe:"",model:"",n:0,temperature:.7,contextNum:2,topP:.9,presencePenalty:.5,frequencyPenalty:.5}),b=V([]),q={image:[{required:!0,message:"\u8BF7\u9009\u62E9\u56FE\u7247",trigger:["blur"]}],name:[{required:!0,message:"\u8BF7\u8F93\u5165\u540D\u79F0",trigger:["blur"]}],remarks:[{required:!1,message:"\u8BF7\u8F93\u5165\u6280\u80FD\u63CF\u8FF0",trigger:["blur"]}],categoryId:[{required:!0,message:"\u8BF7\u9009\u62E9\u7C7B\u522B",trigger:["blur"]}],content:[{required:!0,message:"\u8BF7\u8F93\u5165\u5185\u5BB9",trigger:["blur"]}],tips:[{required:!0,message:"\u8BF7\u8F93\u5165\u63D0\u793A\u5185\u5BB9",trigger:["blur"]}],model:[{required:!0,message:"\u8BF7\u9009\u62E9\u6A21\u578B",trigger:["blur"]}],contextNum:[{required:!0,message:"\u8BF7\u9009\u62E9\u6A21\u578B\u53C2\u6570",trigger:["blur"]}]},h=async()=>{var r,t;await((r=y.value)==null?void 0:r.validate()),D.value=="edit"?await me(l):await de(l),te.msgSuccess("\u4FEE\u6539\u6210\u529F\uFF01"),(t=B.value)==null||t.close(),A("success")},P=async()=>{const r=await ee();b.value=r},N=async r=>{var t;P(),r&&(D.value="edit",S(r)),I(),(t=B.value)==null||t.open()},S=async r=>{const t=await ie({id:r});Object.keys(t).map(C=>{l[C]=t[C]})},i=V({}),I=async()=>{i.value=await ue()},z=()=>{A("close")};return w({open:N}),(r,t)=>{const C=Y,m=j,g=G,L=Z,M=H,F=se("QuestionFilled"),x=J,f=K,_=T,R=W,O=X;return d(),p("div",pe,[e($,{ref_key:"popupRef",ref:B,title:u(U),async:!0,width:"550px",onConfirm:h,onClose:z},{default:a(()=>[e(O,{ref_key:"formRef",ref:y,model:u(l),"label-width":"84px",rules:q},{default:a(()=>[e(m,{label:"\u56FE\u6807",prop:"image"},{default:a(()=>[e(C,{modelValue:u(l).image,"onUpdate:modelValue":t[0]||(t[0]=o=>u(l).image=o),limit:1},null,8,["modelValue"])]),_:1}),e(m,{label:"\u6280\u80FD\u540D\u79F0",prop:"name"},{default:a(()=>[e(g,{placeholder:"\u8BF7\u8F93\u5165\u6280\u80FD\u540D\u79F0",modelValue:u(l).name,"onUpdate:modelValue":t[1]||(t[1]=o=>u(l).name=o)},null,8,["modelValue"])]),_:1}),e(m,{label:"\u6280\u80FD\u63CF\u8FF0",prop:"remarks"},{default:a(()=>[e(g,{modelValue:u(l).remarks,"onUpdate:modelValue":t[2]||(t[2]=o=>u(l).remarks=o),placeholder:"\u8BF7\u8F93\u5165\u6280\u80FD\u63CF\u8FF0",rows:3,type:"textarea"},null,8,["modelValue"])]),_:1}),e(m,{label:"\u6240\u5C5E\u7C7B\u522B",prop:"categoryId"},{default:a(()=>[e(M,{placeholder:"\u8BF7\u9009\u62E9",class:"w-full",modelValue:u(l).categoryId,"onUpdate:modelValue":t[3]||(t[3]=o=>u(l).categoryId=o)},{default:a(()=>[(d(!0),p(ne,null,re(u(b),(o,Q)=>(d(),v(L,{key:Q,label:o.name,value:o.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),e(m,{label:"\u8C03\u6559\u6587\u6848",prop:"content"},{default:a(()=>[e(g,{modelValue:u(l).content,"onUpdate:modelValue":t[4]||(t[4]=o=>u(l).content=o),placeholder:"\u8BF7\u8F93\u5165\u8C03\u6559\u6587\u6848",rows:3,type:"textarea"},null,8,["modelValue"])]),_:1}),e(m,{label:"\u63D0\u793A\u6587\u5B57",prop:"tips"},{default:a(()=>[e(g,{placeholder:"\u5728\u8F93\u5165\u6846\u91CC\u63D0\u793A\u7528\u6237\u7684\u6587\u5B57",rows:3,type:"textarea",modelValue:u(l).tips,"onUpdate:modelValue":t[5]||(t[5]=o=>u(l).tips=o)},null,8,["modelValue"])]),_:1}),u(i).key?(d(),v(m,{key:0,label:"\u6A21\u578B\u53C2\u6570",prop:"contextNum"},{default:a(()=>[s("div",ce,[u(i).contextNum!==""?(d(),p("div",Fe,[s("div",xe,[fe,e(f,{class:"box-item",effect:"dark",content:"\u751F\u6210\u6587\u672C\u7684\u6700\u5927\u957F\u5EA6\uFF0C\u53D6\u503C\u8303\u56F4\u4E3A1~5\u4E4B\u95F4\u7684\u6574\u6570",placement:"top"},{default:a(()=>[e(x,{size:"16px"},{default:a(()=>[e(F)]),_:1})]),_:1})]),e(_,{modelValue:u(l).contextNum,"onUpdate:modelValue":t[6]||(t[6]=o=>u(l).contextNum=o),min:1,max:5},null,8,["modelValue"])])):c("",!0),u(i).n!==""?(d(),p("div",_e,[s("div",Ee,[ge,e(f,{class:"box-item",effect:"dark",content:"\u4E3A\u6BCF\u4E2A\u8F93\u5165\u6D88\u606F\u751F\u6210\u591A\u5C11\u4E2A\u804A\u5929\u5B8C\u6210\u9009\u9879\uFF0C\u53D6\u503C\u8303\u56F4\u4E3A1~5\u4E4B\u95F4\u7684\u6574\u6570\u3002",placement:"top"},{default:a(()=>[e(x,{size:"16px"},{default:a(()=>[e(F)]),_:1})]),_:1})]),e(_,{modelValue:u(l).n,"onUpdate:modelValue":t[7]||(t[7]=o=>u(l).n=o),min:1,max:5},null,8,["modelValue"])])):c("",!0),u(i).temperature!==""?(d(),p("div",Ce,[s("div",Be,[De,e(f,{class:"box-item",effect:"dark",content:"\u7528\u4E8E\u63A7\u5236\u751F\u6210\u6587\u672C\u7684\u968F\u673A\u6027\uFF0C\u53D6\u503C\u8303\u56F4\u4E3A0~1\u4E4B\u95F4\u7684\u6D6E\u70B9\u6570\uFF0C\u5EFA\u8BAE\u53D6\u503C0.7\u5DE6\u53F3\u3002",placement:"top"},{default:a(()=>[e(x,{size:"16px"},{default:a(()=>[e(F)]),_:1})]),_:1})]),e(_,{modelValue:u(l).temperature,"onUpdate:modelValue":t[8]||(t[8]=o=>u(l).temperature=o),min:0,max:1,step:.1},null,8,["modelValue"])])):c("",!0),u(i).topP!==""?(d(),p("div",Ve,[s("div",Ae,[ye,e(f,{class:"box-item",effect:"dark",content:"\u7528\u4E8E\u63A7\u5236\u751F\u6210\u6587\u672C\u7684\u591A\u6837\u6027\uFF0C\u53D6\u503C\u8303\u56F4\u4E3A0~1\u4E4B\u95F4\u7684\u6D6E\u70B9\u6570\uFF0C\u5EFA\u8BAE\u53D6\u503C0.9\u5DE6\u53F3\u3002",placement:"top"},{default:a(()=>[e(x,{size:"16px"},{default:a(()=>[e(F)]),_:1})]),_:1})]),e(_,{modelValue:u(l).topP,"onUpdate:modelValue":t[9]||(t[9]=o=>u(l).topP=o),min:0,max:1,step:.1},null,8,["modelValue"])])):c("",!0),u(i).presencePenalty!==""?(d(),p("div",be,[s("div",ke,[ve,e(f,{class:"box-item",effect:"dark",content:"\u7528\u4E8E\u63A7\u5236\u751F\u6210\u6587\u672C\u4E2D\u662F\u5426\u51FA\u73B0\u7ED9\u5B9A\u7684\u5173\u952E\u8BCD\uFF0C\u53D6\u503C\u8303\u56F4\u4E3A0~1\u4E4B\u95F4\u7684\u6D6E\u70B9\u6570\uFF0C\u5EFA\u8BAE\u53D6\u503C0.5\u5DE6\u53F3\u3002",placement:"top"},{default:a(()=>[e(x,{size:"16px"},{default:a(()=>[e(F)]),_:1})]),_:1})]),e(_,{modelValue:u(l).presencePenalty,"onUpdate:modelValue":t[10]||(t[10]=o=>u(l).presencePenalty=o),step:.1,min:0,max:1},null,8,["modelValue"])])):c("",!0),u(i).frequencyPenalty!==""?(d(),p("div",we,[s("div",Ue,[qe,e(f,{class:"box-item",effect:"dark",content:"\u7528\u4E8E\u63A7\u5236\u751F\u6210\u6587\u672C\u4E2D\u91CD\u590D\u7684\u7A0B\u5EA6\uFF0C\u53D6\u503C\u8303\u56F4\u4E3A0~1\u4E4B\u95F4\u7684\u6D6E\u70B9\u6570\uFF0C\u5EFA\u8BAE\u53D6\u503C0.5\u5DE6\u53F3",placement:"top"},{default:a(()=>[e(x,{size:"16px"},{default:a(()=>[e(F)]),_:1})]),_:1})]),e(_,{modelValue:u(l).frequencyPenalty,"onUpdate:modelValue":t[11]||(t[11]=o=>u(l).frequencyPenalty=o),step:.1,min:0,max:1},null,8,["modelValue"])])):c("",!0)])]),_:1})):c("",!0),e(m,{label:"\u6392\u5E8F"},{default:a(()=>[s("div",he,[e(g,{modelValue:u(l).sort,"onUpdate:modelValue":t[12]||(t[12]=o=>u(l).sort=o),placeholder:""},null,8,["modelValue"]),Pe])]),_:1}),e(m,{label:"\u72B6\u6001"},{default:a(()=>[e(R,{modelValue:u(l).isEnable,"onUpdate:modelValue":t[13]||(t[13]=o=>u(l).isEnable=o),"active-value":1,"inactive-value":0},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["title"])])}}});export{je as _,Te as c,Qe as d,Oe as s};
