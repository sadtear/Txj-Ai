import{W as V,X as g,C as k,B as x,G as N}from"./element-plus.28f30ed2.js";import{p as q}from"./index.1d239a72.js";import{f as _}from"./index.93d1c242.js";import{d as I,s as b,_ as S,e as j,w as F,o as G,L as M,M as o,a as T,V as a,u as l,S as n,T as C}from"./@vue.cb90fff3.js";const A={class:"pr-8"},z=I({__name:"account-adjust",props:{show:{type:Boolean,required:!0},value:{type:[Number,String],required:!0}},emits:["update:show","confirm"],setup(p,{emit:c}){const d=p,s=b(),u=S({action:1,number:"",remark:""}),m=b(),i=j(()=>Number(d.value)+Number(u.number)*(u.action==1?1:-1)),D={number:[{required:!0,message:"\u8BF7\u8F93\u5165\u8C03\u6574\u7684\u91D1\u989D"}]},E=e=>{if(e.includes("-"))return _.msgError("\u8BF7\u8F93\u5165\u6B63\u6574\u6570");u.number=e},h=async()=>{var e;await((e=s.value)==null?void 0:e.validate()),c("confirm",u)},v=()=>{var e;c("update:show",!1),(e=s.value)==null||e.resetFields()};return F(()=>d.show,e=>{var r,t;e?(r=m.value)==null||r.open():(t=m.value)==null||t.close()}),F(i,e=>{e<0&&(_.msgError("\u8C03\u6574\u540E\u4F59\u989D\u9700\u5927\u4E8E0"),u.number="")}),(e,r)=>{const t=k,f=V,w=g,y=x,B=N;return G(),M(q,{ref_key:"popupRef",ref:m,title:"\u4F59\u989D\u8C03\u6574",width:"500px",onConfirm:h,async:!0,onClose:v},{default:o(()=>[T("div",A,[a(B,{ref_key:"formRef",ref:s,model:l(u),"label-width":"120px",rules:D},{default:o(()=>[a(t,{label:"\u5F53\u524D\u4F59\u989D"},{default:o(()=>[n(C(p.value)+"\u6761 ",1)]),_:1}),a(t,{label:"\u4F59\u989D\u589E\u51CF",required:"",prop:"action"},{default:o(()=>[a(w,{modelValue:l(u).action,"onUpdate:modelValue":r[0]||(r[0]=R=>l(u).action=R)},{default:o(()=>[a(f,{label:1},{default:o(()=>[n("\u589E\u52A0\u4F59\u989D")]),_:1}),a(f,{label:0},{default:o(()=>[n("\u6263\u51CF\u4F59\u989D")]),_:1})]),_:1},8,["modelValue"])]),_:1}),a(t,{label:"\u5145\u503C\u4F59\u989D",prop:"number"},{default:o(()=>[a(y,{"model-value":l(u).number,placeholder:"\u8BF7\u8F93\u5165\u8C03\u6574\u7684\u6761\u6570",type:"number",onInput:E},null,8,["model-value"])]),_:1}),a(t,{label:"\u8C03\u6574\u540E\u4F59\u989D"},{default:o(()=>[n(C(l(i))+" \u6761",1)]),_:1})]),_:1},8,["model"])])]),_:1},512)}}});export{z as _};
