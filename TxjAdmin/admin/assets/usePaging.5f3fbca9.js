import{l as r}from"./lodash.265ebbd3.js";import{t as m,_ as d}from"./@vue.cb90fff3.js";function j(u){const{page:g=1,size:l=15,fetchFun:f,params:n={},firstLoading:p=!1,beforeRequest:s,afterRequest:i}=u,c=Object.assign({},m(n)),e=d({page:g,size:l,loading:p,count:0,lists:[],extend:{}}),o=()=>{e.loading=!0;let a=n;return r.exports.isFunction(s)&&(a=s(n)),f({pageNo:e.page,pageSize:e.size,...a}).then(t=>(e.count=t==null?void 0:t.count,e.lists=t==null?void 0:t.lists,e.extend=t==null?void 0:t.extend,r.exports.isFunction(i)&&i(t),Promise.resolve(t))).catch(t=>Promise.reject(t)).finally(()=>{e.loading=!1})};return{pager:e,getLists:o,resetParams:()=>{Object.keys(c).forEach(a=>{n[a]=c[a]}),o()},resetPage:()=>{e.page=1,o()}}}export{j as u};
