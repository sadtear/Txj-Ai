import{W as x,X as w,t as R,C as U,I as T,B as I,J as N,G as O}from"./element-plus.28f30ed2.js";import{a as S,b as j}from"./ai_model_cost.4054e646.js";import{f as q}from"./index.93d1c242.js";import{d as G,s as L,r as E,o as _,c as z,V as e,M as l,a as d,u as t,L as A,S as J,T as M,R as B}from"./@vue.cb90fff3.js";const W={class:"pt-[10px]"},X=d("div",{class:"form-tips !text-[14px]"}," \u5F00\u542F\u540E\u7528\u6237\u53EF\u4EE5\u5728\u524D\u7AEF\u9009\u62E9\u60F3\u8981\u4F7F\u7528\u7684\u6A21\u578B\uFF0C\u5355\u72EC\u8BA1\u8D39\u3002 ",-1),H=d("div",{class:"form-tips !text-[14px]"},"\u5728\u300CAI\u6A21\u578B\u300D\u9009\u4E2D\u7684\u9ED8\u8BA4AI\u63A5\u53E3",-1),$=G({__name:"session",props:{popRef:{type:Object,default:{}}},setup(K,{expose:v}){const p=L(),u=E({is_open:0,member_model:"",billing_config:{}}),r=E([]),V={api_key:[{required:!0,message:"\u8BF7\u8F93\u5165\u79D8\u94A5",trigger:["blur"]}],api_type:[{required:!0,message:"\u8BF7\u9009\u62E9",trigger:["blur"]}]},f=async()=>{const o=await S();u.value=o,r.value=g(o.billing_config)},g=o=>Object.values(o),D=o=>o.reduce(function(n,s){return n[s.key]=s,n},{}),F=async()=>{await p.value.validate(),u.value.billing_config=D(r.value),await j(u.value),q.msgSuccess("\u4FDD\u5B58\u6210\u529F"),f()};return f(),v({submit:F}),(o,n)=>{const s=R,c=U,y=x,h=w,m=T,b=I,C=N,k=O;return _(),z("div",W,[e(k,{"label-width":"120px",ref_key:"formRef",ref:p,rules:V,model:t(u)},{default:l(()=>[e(c,{label:"\u6A21\u578B\u8BA1\u8D39"},{default:l(()=>[d("div",null,[e(s,{modelValue:t(u).is_open,"onUpdate:modelValue":n[0]||(n[0]=a=>t(u).is_open=a),"active-value":1,"inactive-value":0},null,8,["modelValue"]),X])]),_:1}),t(u).is_open?(_(),A(c,{key:0,label:"\u5F53\u524D\u9ED8\u8BA4\u63A5\u53E3"},{default:l(()=>[d("div",null,[e(h,{modelValue:t(u).member_model,"onUpdate:modelValue":n[1]||(n[1]=a=>t(u).member_model=a)},{default:l(()=>[e(y,{label:t(u).member_model},{default:l(()=>[J(M(t(u).member_model),1)]),_:1},8,["label"])]),_:1},8,["modelValue"]),H])]),_:1})):B("",!0),t(u).is_open?(_(),A(c,{key:1,label:"\u6A21\u578B\u8BBE\u7F6E"},{default:l(()=>[e(C,{ref:"tableRef",size:"large","row-key":"key",data:t(r)},{default:l(()=>[e(m,{label:"\u6A21\u578B\u540D\u79F0",prop:"name","min-width":"120"}),e(m,{label:"\u522B\u540D",prop:"alias","min-width":"100"},{default:l(({row:a})=>[e(b,{modelValue:a.alias,"onUpdate:modelValue":i=>a.alias=i,placeholder:"\u4E3A\u7A7A\u65F6\u663E\u793A\u9ED8\u8BA4\u540D\u5B57"},null,8,["modelValue","onUpdate:modelValue"])]),_:1}),e(m,{label:"\u6D88\u8017\u6761\u6570",prop:"balance","min-width":"100"},{default:l(({row:a})=>[e(b,{modelValue:a.balance,"onUpdate:modelValue":i=>a.balance=i,placeholder:"\u4E3A\u7A7A\u9ED8\u8BA41\u6761"},null,8,["modelValue","onUpdate:modelValue"])]),_:1}),e(m,{label:"\u72B6\u6001","min-width":"100"},{default:l(({row:a})=>[e(s,{modelValue:a.status,"onUpdate:modelValue":i=>a.status=i,"active-value":1,"inactive-value":0},null,8,["modelValue","onUpdate:modelValue"])]),_:1})]),_:1},8,["data"])]),_:1})):B("",!0)]),_:1},8,["model"])])}}});export{$ as _};
