import{p as f}from"./index.1d239a72.js";import{_ as y}from"./oa-menu-form.vue_vue_type_script_setup_true_lang.d40d9c1b.js";import{d as v,s as u,m as I,o as g,L as F,M as d,I as P,V as R}from"./@vue.cb90fff3.js";const w=v({__name:"oa-menu-form-edit",props:{modular:{default:"edit"},subItem:{default:{}}},emits:["add","edit"],setup(m,{emit:n}){const p=m,s=u(),r=u(),e={name:"",visitType:"view",url:"",appId:"",pagePath:""};I(()=>{if(Object.keys(p.subItem).length!=0)for(const o in e)e[o]=p.subItem[o]});const i=async()=>{await s.value.menuFormRef.validate(),p.modular==="edit"?n("edit",{...e}):n("add",{...e}),r.value.close(),s.value.menuFormRef.resetFields()};return(o,t)=>{const l=f;return g(),F(l,{ref_key:"menuFromPopupRef",ref:r,async:"",clickModalClose:!1,title:`${o.modular==="add"?"\u65B0\u589E":"\u7F16\u8F91"}\u5B50\u83DC\u5355`,onConfirm:i},{trigger:d(()=>[P(o.$slots,"default")]),default:d(()=>[R(y,{ref_key:"menuFormEditRef",ref:s,modular:"secondary",name:e.name,"onUpdate:name":t[0]||(t[0]=a=>e.name=a),visitType:e.visitType,"onUpdate:visitType":t[1]||(t[1]=a=>e.visitType=a),url:e.url,"onUpdate:url":t[2]||(t[2]=a=>e.url=a),appId:e.appId,"onUpdate:appId":t[3]||(t[3]=a=>e.appId=a),pagePath:e.pagePath,"onUpdate:pagePath":t[4]||(t[4]=a=>e.pagePath=a)},null,8,["name","visitType","url","appId","pagePath"])]),_:3},8,["title"])}}});export{w as _};
