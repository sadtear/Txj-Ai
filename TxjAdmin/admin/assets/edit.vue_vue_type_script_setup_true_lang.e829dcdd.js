import{B as y,C as k,t as h,G as x}from"./element-plus.28f30ed2.js";import{p as g}from"./index.1d239a72.js";import{e as R,a as A}from"./category.c6b58ff6.js";import{d as S,s as c,r as U,e as I,_ as N,o as q,c as G,V as l,M as t,u,a as f}from"./@vue.cb90fff3.js";const M={class:"edit-popup"},T=f("div",{class:"form-tips"},"\u9ED8\u8BA4\u4E3A0\uFF0C\u6570\u503C\u8D8A\u5927\u6392\u8D8A\u524D\u9762",-1),L=S({__name:"edit",emits:["success","close"],setup(j,{expose:_,emit:i}){const m=c(),n=c(),r=U("add"),B=I(()=>r.value=="add"?"\u65B0\u589E\u7C7B\u522B":"\u7F16\u8F91\u7C7B\u522B"),o=N({id:"",name:"",sort:0,isEnable:1}),v={name:[{required:!0,message:"\u8BF7\u8F93\u5165\u540D\u79F0",trigger:["blur"]}]},F=async()=>{var a,e;await((a=m.value)==null?void 0:a.validate()),r.value=="edit"?await R(o):await A(o),(e=n.value)==null||e.close(),i("success")},C=(a="add")=>{var e;r.value=a,(e=n.value)==null||e.open()},E=async a=>{for(const e in o)a[e]!=null&&a[e]!=null&&(o[e]=a[e])},V=()=>{i("close")};return _({open:C,setFormData:E}),(a,e)=>{const p=y,d=k,b=h,D=x;return q(),G("div",M,[l(g,{ref_key:"popupRef",ref:n,title:u(B),async:!0,width:"550px",onConfirm:F,onClose:V},{default:t(()=>[l(D,{ref_key:"formRef",ref:m,model:u(o),"label-width":"84px",rules:v},{default:t(()=>[l(d,{label:"\u7C7B\u522B\u540D\u79F0",prop:"name"},{default:t(()=>[l(p,{placeholder:"\u8BF7\u8F93\u5165\u7C7B\u522B\u540D\u79F0",modelValue:u(o).name,"onUpdate:modelValue":e[0]||(e[0]=s=>u(o).name=s)},null,8,["modelValue"])]),_:1}),l(d,{label:"\u6392\u5E8F"},{default:t(()=>[f("div",null,[l(p,{class:"ls-input",modelValue:u(o).sort,"onUpdate:modelValue":e[1]||(e[1]=s=>u(o).sort=s)},null,8,["modelValue"]),T])]),_:1}),l(d,{label:"\u72B6\u6001"},{default:t(({row:s})=>[l(b,{modelValue:u(o).isEnable,"onUpdate:modelValue":e[2]||(e[2]=w=>u(o).isEnable=w),"active-value":1,"inactive-value":0},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["title"])])}}});export{L as _};
