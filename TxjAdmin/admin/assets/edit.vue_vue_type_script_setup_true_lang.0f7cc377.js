import{B as x,C as S,v as k,t as y,G as R}from"./element-plus.28f30ed2.js";import{a as g,b as A,c as I}from"./article.f7f91792.js";import{p as N}from"./index.1d239a72.js";import{f as U}from"./index.93d1c242.js";import{d as q,s as c,r as G,e as M,_ as T,o as j,c as z,V as u,M as s,u as a,a as f}from"./@vue.cb90fff3.js";const H={class:"edit-popup"},J=f("div",{class:"form-tips"},"\u9ED8\u8BA4\u4E3A0\uFF0C \u6570\u503C\u8D8A\u5927\u8D8A\u6392\u524D",-1),X=q({__name:"edit",emits:["success","close"],setup(K,{expose:_,emit:m}){const p=c(),n=c(),r=G("add"),F=M(()=>r.value=="edit"?"\u7F16\u8F91\u680F\u76EE":"\u65B0\u589E\u680F\u76EE"),o=T({id:"",name:"",sort:0,isShow:1}),E={name:[{required:!0,message:"\u8BF7\u8F93\u5165\u680F\u76EE\u540D\u79F0",trigger:["blur"]}]},v=async()=>{var t,e;await((t=p.value)==null?void 0:t.validate()),r.value=="edit"?await g(o):await A(o),U.msgSuccess("\u64CD\u4F5C\u6210\u529F"),(e=n.value)==null||e.close(),m("success")},w=(t="add")=>{var e;r.value=t,(e=n.value)==null||e.open()},d=t=>{for(const e in o)t[e]!=null&&t[e]!=null&&(o[e]=t[e])},C=async t=>{const e=await I({id:t.id});d(e)},D=()=>{m("close")};return _({open:w,setFormData:d,getDetail:C}),(t,e)=>{const V=x,i=S,b=k,h=y,B=R;return j(),z("div",H,[u(N,{ref_key:"popupRef",ref:n,title:a(F),async:!0,width:"550px",onConfirm:v,onClose:D},{default:s(()=>[u(B,{ref_key:"formRef",ref:p,model:a(o),"label-width":"84px",rules:E},{default:s(()=>[u(i,{label:"\u680F\u76EE\u540D\u79F0",prop:"name"},{default:s(()=>[u(V,{modelValue:a(o).name,"onUpdate:modelValue":e[0]||(e[0]=l=>a(o).name=l),placeholder:"\u8BF7\u8F93\u5165\u680F\u76EE\u540D\u79F0",clearable:""},null,8,["modelValue"])]),_:1}),u(i,{label:"\u6392\u5E8F",prop:"sort"},{default:s(()=>[f("div",null,[u(b,{modelValue:a(o).sort,"onUpdate:modelValue":e[1]||(e[1]=l=>a(o).sort=l),min:0,max:9999},null,8,["modelValue"]),J])]),_:1}),u(i,{label:"\u72B6\u6001",prop:"isShow"},{default:s(()=>[u(h,{modelValue:a(o).isShow,"onUpdate:modelValue":e[2]||(e[2]=l=>a(o).isShow=l),"active-value":1,"inactive-value":0},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["title"])])}}});export{X as _};
