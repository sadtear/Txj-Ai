import{x as J,y as Q,D as W,F as X,C as Y,w as Z,G as ee,H as te,I as oe,t as ae,J as le,P as ne}from"./element-plus.28f30ed2.js";import{_ as se}from"./index.vue_vue_type_script_setup_true_lang.f7bc22c4.js";import{u as ie}from"./usePaging.5f3fbca9.js";import{b as ue,s as re,d as me,c as pe}from"./ai_key.72a95a08.js";import{f as g}from"./index.93d1c242.js";import{_ as de}from"./edit.vue_vue_type_script_setup_true_lang.34b8bcc2.js";import{d as ce,r as v,s as D,_ as _e,ar as fe,o as s,c as E,V as t,M as o,u as a,U as x,aa as A,L as m,S as _,k as P,a as T,O as f,R as ye}from"./@vue.cb90fff3.js";import"./lodash-es.020a3960.js";import"./async-validator.fb49d0f5.js";import"./@vueuse.54201ba6.js";import"./@element-plus.36ce49f2.js";import"./dayjs.38099f94.js";import"./axios.db0b6952.js";import"./@ctrl.b082b0c1.js";import"./@popperjs.36402333.js";import"./escape-html.e5dfadb9.js";import"./normalize-wheel-es.8aeb3683.js";import"./lodash.265ebbd3.js";import"./vue-router.bee126d8.js";import"./pinia.66d683d1.js";import"./vue-demi.b3a9cad9.js";import"./css-color-function.d9c88729.js";import"./color.8789f62b.js";import"./clone.7ebdaffc.js";import"./color-convert.755d189f.js";import"./color-name.e7a4e1d3.js";import"./color-string.e356f5de.js";import"./balanced-match.d2a36341.js";import"./debug.e8a38282.js";import"./ms.a9ae1d6d.js";import"./vue-drag-resize.44c30f3e.js";import"./nprogress.a77a2697.js";import"./vue-clipboard3.70be7e6e.js";import"./clipboard.551ce183.js";import"./echarts.f889f12e.js";import"./zrender.ec6da783.js";import"./tslib.60310f1a.js";import"./highlight.js.9905ea4d.js";import"./@highlightjs.ae4f7a48.js";import"./index.1d239a72.js";const Ce={class:"mb-[10px]"},be={class:"flex justify-end mt-4"},st=ce({__name:"index",setup(ge){const K=v(!0),F=D();D();const h=v([]),u=_e({type:1,aiKey:""}),b=v(1),S=[{name:"AI\u5BF9\u8BDD",type:1},{name:"AI\u7ED8\u753B",type:2}],{pager:p,getLists:d,resetPage:L,resetParams:$}=ie({fetchFun:pe,params:u}),R=l=>{u.type=l,d(),k()},k=async()=>{try{const l=await ue({type:u.type});h.value=l}catch(l){console.log("\u83B7\u53D6ai\u6A21\u578B\u5931\u8D25=>",l)}},U=async l=>{await re({id:l}),g.msgSuccess("\u64CD\u4F5C\u6210\u529F")},B=(l,n)=>{var y;(y=F.value)==null||y.open(u.type,l,n)},I=async l=>{await g.confirm("\u786E\u5B9A\u8981\u5220\u9664\uFF1F"),await me({id:l}),g.msgSuccess("\u64CD\u4F5C\u6210\u529F"),d()};return d(),k(),(l,n)=>{const y=W,N=X,w=Y,c=Z,M=ee,V=te,O=J,j=Q,r=oe,q=ae,z=le,G=se,C=fe("perms"),H=ne;return s(),E("div",null,[t(V,{class:"!border-none",shadow:"never"},{default:o(()=>[t(M,{ref:"formRef",class:"mb-[-16px]",model:a(u),inline:!0},{default:o(()=>[t(w,{label:"\u63A5\u53E3\u7C7B\u578B"},{default:o(()=>[t(N,{class:"w-[280px]",modelValue:a(u).aiKey,"onUpdate:modelValue":n[0]||(n[0]=e=>a(u).aiKey=e)},{default:o(()=>[(s(!0),E(x,null,A(a(h),(e,i)=>(s(),m(y,{key:i,label:e.name,value:e.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),t(w,null,{default:o(()=>[t(c,{type:"primary",onClick:a(L)},{default:o(()=>[_("\u67E5\u8BE2")]),_:1},8,["onClick"]),t(c,{onClick:a($)},{default:o(()=>[_("\u91CD\u7F6E")]),_:1},8,["onClick"])]),_:1})]),_:1},8,["model"])]),_:1}),t(V,{shadow:"never",class:"!border-none mt-4"},{default:o(()=>[t(j,{modelValue:a(b),"onUpdate:modelValue":n[1]||(n[1]=e=>P(b)?b.value=e:null),onTabChange:R},{default:o(()=>[(s(),E(x,null,A(S,(e,i)=>t(O,{label:`${e.name}`,name:e.type,key:i},null,8,["label","name"])),64))]),_:1},8,["modelValue"]),T("div",Ce,[f((s(),m(c,{type:"primary",onClick:n[2]||(n[2]=e=>B("add"))},{default:o(()=>[_(" + \u65B0\u589E\u5BC6\u94A5 ")]),_:1})),[[C,["ai:keypool:add"]]])]),f((s(),m(z,{size:"large",data:a(p).lists},{default:o(()=>[t(r,{label:"\u63A5\u53E3\u7C7B\u578B",prop:"aiKey","min-width":"100"}),t(r,{label:"\u5BC6\u94A5  ",prop:"apikey","min-width":"200"}),f((s(),m(r,{label:"\u72B6\u6001","min-width":"100"},{default:o(({row:e})=>[t(q,{modelValue:e.status,"onUpdate:modelValue":i=>e.status=i,"active-value":1,"inactive-value":0,onChange:i=>U(e.id)},null,8,["modelValue","onUpdate:modelValue","onChange"])]),_:1})),[[C,["setting.KeyPool/change"]]]),t(r,{label:"\u505C\u7528\u539F\u56E0",prop:"notes","min-width":"180"}),t(r,{label:"\u521B\u5EFA\u65F6\u95F4",prop:"createTime","min-width":"180"}),t(r,{label:"\u66F4\u65B0\u65F6\u95F4",prop:"updateTime","min-width":"180"}),t(r,{label:"\u64CD\u4F5C",fixed:"right","min-width":"180"},{default:o(({row:e})=>[f((s(),m(c,{type:"primary",link:"",onClick:i=>B("edit",e)},{default:o(()=>[_(" \u7F16\u8F91 ")]),_:2},1032,["onClick"])),[[C,["ai:keypool:edit"]]]),f((s(),m(c,{type:"danger",link:!0,onClick:i=>I(e.id)},{default:o(()=>[_(" \u5220\u9664 ")]),_:2},1032,["onClick"])),[[C,["ai:keypool:del"]]])]),_:1})]),_:1},8,["data"])),[[H,a(p).loading]]),T("div",be,[t(G,{modelValue:a(p),"onUpdate:modelValue":n[3]||(n[3]=e=>P(p)?p.value=e:null),onChange:a(d)},null,8,["modelValue","onChange"])])]),_:1}),a(K)?(s(),m(de,{key:0,ref_key:"editRef",ref:F,onSuccess:a(d)},null,8,["onSuccess"])):ye("",!0)])}}});export{st as default};
