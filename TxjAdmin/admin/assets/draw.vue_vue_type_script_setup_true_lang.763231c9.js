import{W as M,X as N,T,t as j,C as G,w as K,b as L,B as P,D as J,F as W,G as X}from"./element-plus.28f30ed2.js";import{g as H,s as Q}from"./AI.bce785c3.js";import{f as Y}from"./index.93d1c242.js";import{d as Z,s as $,r as f,_ as uu,j as eu,o as d,c as _,V as e,M as a,a as s,u as t,k as tu,U as E,aa as V,L as B,S as m,T as lu,R as D}from"./@vue.cb90fff3.js";const au="/assets/zhishuyun_code.3f9da855.png",ou=s("div",{class:"form-tips !text-[14px]"}," \u9ED8\u8BA4\u5173\u95ED\uFF1B\u7ED8\u753B\u529F\u80FD\u5173\u95ED\u540E\uFF0C\u6709\u5173\u7ED8\u753B\u7684\u5165\u53E3\u5C06\u4E0D\u663E\u793A ",-1),su={key:0,class:"flex items-center"},nu=s("span",{class:"form-tips !text-[14px]"},"\u5982\u679C\u60A8\u5DF2\u5F00\u901A\u77E5\u6570\u4E91\u63A5\u53E3\uFF0C\u53EF\u76F4\u63A5\u586B\u5199\uFF1B\u5982\u679C\u672A\u5F00\u901A",-1),ru={href:"https://auth.zhishuyun.com/auth/login?inviter_id=c7ff8573-940e-4dd0-828c-91adeda5f5dd&redirect=https://data.zhishuyun.com",target:"_blank",rel:"noopener noreferrer"},du={class:"flex"},iu=s("div",{class:"form-tips !text-[14px]"}," \u56FE\u7247\u4EE3\u7406\u57DF\u540D\uFF0C\u4E0D\u586B\u5199\u9ED8\u8BA4\u4E3A\uFF1Ahttps://cdn.discordapp.com ",-1),pu=s("div",{class:"form-tips !text-[14px]"}," \u5F00\u542F\u81EA\u52A8\u7FFB\u8BD1MJ\u5173\u952E\u8BCD\u4E3A\u82F1\u6587\uFF0C\u8BA9\u7ED8\u56FE\u66F4\u7CBE\u51C6\u3002 ",-1),Fu=s("div",{class:"form-tips"}," \u9009\u62E9\u7FFB\u8BD1\u63A5\u53E3\u540E\uFF0C\u9700\u524D\u5F80\u3010AI\u5BF9\u8BDD\u914D\u7F6E\u3011\u8BBE\u7F6E\u76F8\u5E94\u7684\u5BF9\u8BDD\u6A21\u578B\u53C2\u6570 ",-1),_u={class:"w-[420px]"},mu=s("div",{class:"form-tips flex !text-[14px]"}," {prompt}\u662F\u5185\u7F6E\u53D8\u91CF\uFF0C\u8868\u793A\u7528\u6237\u8F93\u5165\u7684\u63CF\u8FF0\u8BCD ",-1),cu=s("div",{class:"form-tips w-[400px] !text-[14px]"},[s("p",null," \u793A\u4F8B\uFF1A\u6211\u4F1A\u7528\u4EFB\u4F55\u8BED\u8A00\u548C\u4F60\u4EA4\u6D41\uFF0C\u4F60\u53EA\u9700\u5C06\u6211\u7684\u8BDD\u7FFB\u8BD1\u4E3A\u82F1\u8BED\uFF0C\u4E0D\u8981\u89E3\u91CA\u6211\u7684\u8BDD\u6216\u8005\u56DE\u590D\u5176\u4ED6\u4FE1\u606F\uFF0C\u8BF7\u7ACB\u523B\u5C06\u6211\u7684\u8BDD\u7FFB\u8BD1\u8FD4\u56DE\uFF0C\u6211\u7684\u8BDD\u662F:{prompt} ")],-1),Cu=Z({__name:"draw",props:{popRef:{type:Object,default:{}}},setup(fu,{expose:b}){const w=$(),u=f({is_open:"",config_lists:[],is_open_translate:0,translate_mode:1,translateConfig:{model:"",prompt:""},translate_model_lists:[]}),n=f({}),p=f("");uu({interfaceKey:[{required:!0,message:"\u8BF7\u9009\u62E9AI\u63A5\u53E3",trigger:["blur"]}],translate_mode:[{required:!0,message:"\u8BF7\u9009\u62E9\u7FFB\u8BD1\u5F62\u5F0F",trigger:["blur"]}]});const k=r=>{n.value=u.value.config_lists[r],n.value.status=1},v=async()=>{var r;u.value=await H(),n.value=Object.values((r=u.value)==null?void 0:r.config_lists).find(o=>o.is_open)||{},p.value=n.value.type},R=async()=>{var r;await Q({is_open:u.value.is_open,is_open_translate:u.value.is_open_translate,translate_mode:u.value.translate_mode,drawApiType:p.value,translateModel:u.value.translateConfig.model,translatePrompt:u.value.translateConfig.prompt,proxy_url:((r=n.value)==null?void 0:r.proxy_url)||""}),Y.msgSuccess("\u4FDD\u5B58\u6210\u529F"),v()};return eu(()=>{v()}),b({submit:R}),(r,o)=>{const C=j,i=G,c=M,A=N,g=K,U=L,z=T,x=P,I=J,q=W,O=X;return d(),_("div",null,[e(O,{"label-width":"120px",ref_key:"formRef",ref:w,model:t(n)},{default:a(()=>{var y,h;return[e(i,{label:"\u7ED8\u753B\u529F\u80FD"},{default:a(()=>[s("div",null,[e(C,{modelValue:t(u).is_open,"onUpdate:modelValue":o[0]||(o[0]=l=>t(u).is_open=l),"active-value":1,"inactive-value":0},null,8,["modelValue"]),ou])]),_:1}),e(i,{label:"AI\u63A5\u53E3",class:"is-required"},{default:a(()=>{var l;return[s("div",null,[e(A,{modelValue:t(p),"onUpdate:modelValue":o[1]||(o[1]=F=>tu(p)?p.value=F:null),onChange:k},{default:a(()=>[(d(!0),_(E,null,V(t(u).config_lists,(F,S)=>(d(),B(c,{key:S,label:F.type,disabled:!F.status},{default:a(()=>[m(lu(F.name),1)]),_:2},1032,["label","disabled"]))),128))]),_:1},8,["modelValue"]),((l=t(p))==null?void 0:l.indexOf("zhishuyun"))!=-1?(d(),_("div",su,[nu,s("a",ru,[e(g,{type:"primary",link:"",class:"ml-2"},{default:a(()=>[m(" \u524D\u5F80\u5F00\u901A ")]),_:1})]),e(z,{placement:"top-start",width:"auto",trigger:"hover"},{reference:a(()=>[e(g,{type:"primary",link:"",class:"ml-2"},{default:a(()=>[m("\u626B\u7801\u5F00\u901A")]),_:1})]),default:a(()=>[e(U,{src:t(au),class:"w-[150px] h-[150px]"},null,8,["src"])]),_:1})])):D("",!0)])]}),_:1}),((h=(y=t(n))==null?void 0:y.type)==null?void 0:h.indexOf("mdd"))==0?(d(),B(i,{key:0,label:"\u56FE\u7247\u4EE3\u7406\u57DF\u540D",prop:"agency_api"},{default:a(()=>[s("div",null,[s("div",du,[e(x,{placeholder:"\u8BF7\u8F93\u5165\u56FE\u7247\u4EE3\u7406\u57DF\u540D",class:"w-[400px]",modelValue:t(n).proxy_url,"onUpdate:modelValue":o[2]||(o[2]=l=>t(n).proxy_url=l)},null,8,["modelValue"])]),iu])]),_:1})):D("",!0),e(i,{label:"\u7ED8\u753B\u7FFB\u8BD1",class:"is-required"},{default:a(()=>[s("div",null,[e(C,{modelValue:t(u).is_open_translate,"onUpdate:modelValue":o[3]||(o[3]=l=>t(u).is_open_translate=l),"active-value":1,"inactive-value":0},null,8,["modelValue"]),pu])]),_:1}),t(u).is_open_translate?(d(),_(E,{key:1},[e(i,{label:"\u7FFB\u8BD1\u5F62\u5F0F",class:"is-required"},{default:a(()=>[e(A,{modelValue:t(u).translate_mode,"onUpdate:modelValue":o[4]||(o[4]=l=>t(u).translate_mode=l)},{default:a(()=>[e(c,{label:1},{default:a(()=>[m("\u7CFB\u7EDF\u81EA\u52A8\u7FFB\u8BD1")]),_:1}),e(c,{label:2},{default:a(()=>[m("\u7528\u6237\u624B\u52A8\u7FFB\u8BD1")]),_:1})]),_:1},8,["modelValue"])]),_:1}),e(i,{label:"\u6A21\u578B",prop:"name"},{default:a(()=>[s("div",null,[e(q,{class:"w-[400px]",modelValue:t(u).translateConfig.model,"onUpdate:modelValue":o[5]||(o[5]=l=>t(u).translateConfig.model=l)},{default:a(()=>[(d(!0),_(E,null,V(t(u).translate_model_lists,l=>(d(),B(I,{value:l,label:l,key:l},null,8,["value","label"]))),128))]),_:1},8,["modelValue"]),Fu])]),_:1}),e(i,{label:"\u7FFB\u8BD1\u6307\u4EE4",prop:"translateConfig.model"},{default:a(()=>[s("div",_u,[e(x,{modelValue:t(u).translateConfig.prompt,"onUpdate:modelValue":o[6]||(o[6]=l=>t(u).translateConfig.prompt=l),autosize:{minRows:7,maxRows:7},type:"textarea","show-word-limit":"",placeholder:"\u8BF7\u8F93\u5165\u7FFB\u8BD1\u6307\u4EE4"},null,8,["modelValue"]),mu,cu])]),_:1})],64)):D("",!0)]}),_:1},8,["model"])])}}});export{Cu as _};
