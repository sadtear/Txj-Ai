import{B as h,C,t as D,G as b}from"./element-plus.28f30ed2.js";import{p as y}from"./index.1d239a72.js";import{r as n,f as R}from"./index.93d1c242.js";import{d as k,s as B,r as P,_,o as S,c as U,V as l,M as p,u as a,a as c}from"./@vue.cb90fff3.js";function O(o){return n.get({url:"/ai/draw/prompt/example/list",params:o})}function q(o){return n.get({url:"/ai/draw/prompt/example/detail",params:o})}function I(o){return n.post({url:"/ai/draw/prompt/example/add",params:o})}function M(o){return n.post({url:"/ai/draw/prompt/example/edit",params:o})}function Q(o){return n.post({url:"/ai/draw/prompt/example/del",params:o})}function W(o){return n.post({url:"/ai/draw/prompt/example/change",params:o})}const N={class:"edit-popup"},z={class:"w-full"},G={class:"w-full"},L=c("div",{class:"form-tips"},"\u9ED8\u8BA4\u4E3A0\uFF0C\u6570\u503C\u8D8A\u5927\u8D8A\u6392\u524D\u9762",-1),X=k({__name:"edit",emits:["success","close"],setup(o,{expose:E,emit:f}){const F=B(),i=B(),d=P(""),u=_({id:"",prompt:"",promptEn:"",sort:"",status:1}),w=_({prompt:[{required:!0,message:"\u8BF7\u8F93\u5165\u4E2D\u6587\u793A\u4F8B",trigger:["change","blur"]}],promptEn:[{required:!0,message:"\u8BF7\u8F93\u5165\u82F1\u6587\u793A\u4F8B",trigger:["change","blur"]}]}),x=async s=>{try{const e=await q({id:s});for(const t in u)e[t]!=null&&e[t]!=null&&(u[t]=e[t])}catch(e){console.log("\u83B7\u53D6\u8BE6\u60C5=>",e)}},g=async()=>{var s,e;try{await((s=F.value)==null?void 0:s.validate()),u.id?await M(u):await I(u),R.msgSuccess("\u4FDD\u5B58\u6210\u529F"),f("success"),(e=i.value)==null||e.close()}catch(t){return t}},v=()=>{f("close")};return E({open:(s,e)=>{var t;e?(d.value="\u7F16\u8F91\u793A\u4F8B",x(e)):d.value="\u65B0\u589E\u793A\u4F8B",(t=i.value)==null||t.open()}}),(s,e)=>{const t=h,m=C,V=D,A=b;return S(),U("div",N,[l(y,{ref_key:"popupRef",ref:i,title:a(d),async:!0,width:"520px",onConfirm:g,onClose:v},{default:p(()=>[l(A,{ref_key:"formRef",ref:F,class:"mt-4",model:a(u),rules:a(w),inline:!1,"label-width":"80px"},{default:p(()=>[l(m,{label:"\u793A\u4F8B\u6807\u9898",prop:"prompt"},{default:p(()=>[c("div",z,[l(t,{modelValue:a(u).prompt,"onUpdate:modelValue":e[0]||(e[0]=r=>a(u).prompt=r),placeholder:"\u4F8B\u5982\uFF1A\u53EF\u7231\u7684\u7F8E\u5C11\u5973"},null,8,["modelValue"])])]),_:1}),l(m,{label:"\u793A\u4F8B\u5185\u5BB9",prop:"promptEn"},{default:p(()=>[l(t,{modelValue:a(u).promptEn,"onUpdate:modelValue":e[1]||(e[1]=r=>a(u).promptEn=r),type:"textarea",autosize:{minRows:8,maxRows:20},placeholder:"\u8BF7\u8F93\u5165\u793A\u4F8B\u5185\u5BB9\uFF0C\u5C06\u4F1A\u88AB\u586B\u5145\u8FDB\u8F93\u5165\u6846\u7684\u5185\u5BB9"},null,8,["modelValue"])]),_:1}),l(m,{label:"\u6392\u5E8F",prop:"sort"},{default:p(()=>[c("div",G,[l(t,{modelValue:a(u).sort,"onUpdate:modelValue":e[2]||(e[2]=r=>a(u).sort=r),modelModifiers:{number:!0},placeholder:"\u8BF7\u8F93\u5165"},null,8,["modelValue"]),L])]),_:1}),l(m,{label:"\u72B6\u6001",prop:"status"},{default:p(()=>[l(V,{modelValue:a(u).status,"onUpdate:modelValue":e[3]||(e[3]=r=>a(u).status=r),"active-value":1,"inactive-value":0},null,8,["modelValue"])]),_:1})]),_:1},8,["model","rules"])]),_:1},8,["title"])])}}});export{X as _,Q as d,W as e,O as g};
