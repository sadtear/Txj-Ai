import{E as Y,p as Z,a as ee}from"./index.1954cdf9.js";import{E as te}from"./index.6f30e63e.js";import{E as se}from"./index.e24e47ce.js";import{E as oe}from"./el-col.bdd6d635.js";import{E as ie}from"./el-row.5cfa1389.js";import{E as ae}from"./index.e8cc7217.js";import{_ as le}from"./layout.bd874b6a.js";import{v as ce,l as ne,f as re,r as l,g as V,au as de,L as _e,o as a,c,b as h,w as n,a as t,ab as ue,F as w,i as y,h as T,m as g,t as r,j as G,n as pe,d as he,p as me,e as ge,k as x}from"./entry.35d4c246.js";/* empty css                  *//* empty css                   *//* empty css                     *//* empty css                  */import{c as ve,d as fe,a as be,b as we}from"./index.89951fb8.js";import{_ as ye}from"./_plugin-vue_export-helper.c27b6911.js";import"./index.341c05ee.js";import"./throttle.203d98ad.js";import"./debounce.7d5a41e6.js";import"./index.93e13010.js";import"./refs.179b14af.js";/* empty css                *//* empty css                  */import"./typeLIst.1ff2b2b6.js";import"./_commonjsHelpers.87174ba5.js";import"./el-form.c9be7d71.js";import"./castArray.048c84c6.js";import"./_baseClone.43deedb0.js";import"./_getTag.0a62c0db.js";import"./drawing.998ab448.js";import"./index.d44e751f.js";import"./dropdown.72fdcde9.js";const v=f=>(me("data-v-e8f70385"),f=f(),ge(),f),xe={class:"content"},Se={class:"home"},Ce=["src","onLoad"],Ee={class:"notice-contain"},Ie={class:"notice-list"},ze=v(()=>t("div",{class:"noticetitle"},[t("div",{class:"title"},"公告")],-1)),Ne={class:"lists"},Ve={key:0,class:"iteminfo"},Le=v(()=>t("div",{class:"noticeicon"},null,-1)),je={class:"info-title"},Re={class:"info-desc"},De={class:"iteminfo"},Pe=v(()=>t("div",{class:"noticeicon"},null,-1)),Te={class:"info-title"},Ge={class:"info-desc"},We=v(()=>t("div",{class:"home-title"},"全部工具",-1)),Be={class:"tools"},Ue={class:"items"},Me={class:"itemsimg"},$e=["src"],qe={class:"desc"},Ae={class:"text-title"},He={class:"styles"},Fe=v(()=>t("div",{class:"title"},[t("span",null,"热门作品"),t("div",{class:"hot"},"Hot")],-1)),ke={class:"body"},Je=["onClick"],Ke=["src"],Oe={class:"middle"},Qe={class:"bottom"},Xe=["onClick"],Ye={class:"message"},Ze={class:"top"},et={class:"mes-nick",style:{"vertical-align":"middle"}},tt=["onClick"],st=ce({__name:"index",setup(f){const b=ne(),S=re(),W=l([{src:"https://xximg1.meitudata.com/e145abf951a94fa4ad08c1430e6946dc.jpg?imageView2/2/w/400",name:"画廊",address:"/aigallery",describe:""},{src:"https://xximg1.meitudata.com/3930d0cbd7f842b895bfbf68a2f79ee9.jpg?imageView2/2/w/400",name:"文生图",address:"/textGenPic",describe:""},{src:"https://xximg1.meitudata.com/947425be29584ceba5f3452d9a37a156.jpg?imageView2/2/w/400",name:"图生图",address:"/picGenPic",describe:""},{src:"https://xximg1.meitudata.com/c2b8a013c647496a8b9c1951462c0c0d.jpg?imageView2/2/w/400",name:"创作",address:"/create",describe:""},{src:"https://xximg1.meitudata.com/b6ca2ba149b5444cbafdaef9f43bd383.jpg?imageView2/2/w/400",name:"角色",address:"/skill",describe:""},{src:"https://xximg1.meitudata.com/4accea34371d4393856c154885f031c8.jpg?imageView2/2/w/400",name:"个人中心",address:"/user/persionalCenter",describe:""}]),L=l([]),C=l([{title:"",content:"尊敬的用户，我们很高兴地宣布涂小鲸AI智能写作绘画正式上线！这是一项创新的技术，旨在为用户提供更便捷、高效的创作体验。"}]);l(!0),l(!1);const j=V({mode:1}),B=async()=>{const e=await ve(j);L.value=e},U=async()=>{const e=await fe(j);e.lists.length>0&&(C.value=e.lists),console.log("成功",C.value)};B(),U();const M=e=>{console.log(e),we({id:e.id}).then(o=>{e.collect=!e.collect,e.collect==!0?e.collectNum=e.collectNum+1:e.collectNum=e.collectNum-1,x({type:"success",message:"操作成功!"})})},m=l({pageNo:1,pageSize:20,count:0}),E=V({list:[]}),R=async()=>{let e={pageNo:m.value.pageNo,pageSize:m.value.pageSize};const o=await be(e);m.value.count=o.count;for(let p in o.lists)E.list.push(o.lists[p])};R();const D=l(),I=l(!1),$=e=>{I.value=!0,D.value=e},q=e=>{console.log(e),I.value=e},u=l(0);let i=new Image;const A=e=>{var o;i.src=e,u.value=((o=d.value)==null?void 0:o.clientWidth)/i.width*i.height},d=l();l(),V({oldScrollTop:0});const z=e=>{e.target.scrollTop>=e.target.scrollHeight-10-e.target.clientHeight&&E.list.length<m.value.count&&(m.value.pageNo++,R())};de(()=>{u.value==0&&setTimeout(()=>{var e,o;((e=d.value)==null?void 0:e.clientWidth)/i.width*i.height>100&&(u.value=((o=d.value)==null?void 0:o.clientWidth)/i.width*i.height)},2e3),window.addEventListener("scroll",e=>{z(e)},!0),window.onresize=()=>{var e,o,p;((e=d.value)==null?void 0:e.clientWidth)/i.width*i.height>100&&(u.value=((o=d.value)==null?void 0:o.clientWidth)/i.width*i.height,console.log("宽度应是：",((p=d.value)==null?void 0:p.clientWidth)/i.width*i.height))}});const H=e=>{if(e.imageBase)if(b.userInfo.balanceDraw<e.batchSize*2){x({type:"success",message:"请联系管理员"});return}else console.log(22),S.push({path:"/picGenPic",query:{id:e.drawRecordsId}});else{if(e.channel=="MJ")if(b.userInfo.balanceDraw<e.batchSize*2){x({type:"success",message:"请联系管理员"});return}else console.log(33),S.push({path:"/textGenPic",query:{id:e.drawRecordsId}});if(e.channel=="SD")if(b.userInfo.balanceDraw<e.batchSize*3){x({type:"success",message:"请联系管理员"});return}else console.log(11),S.push({path:"/textGenPic",query:{id:e.drawRecordsId}})}};return(e,o)=>{const p=ee,F=Y,k=te,J=se,K=_e("router-link"),O=oe,Q=ie,P=ae,X=le;return a(),c("div",{onScroll:z,style:{"overflow-y":"scroll",height:"100%"}},[h(X,{name:"default",onScroll:z},{default:n(()=>[t("div",xe,[t("div",Se,[t("div",{class:"notice",style:ue({height:+u.value+"px"})},[t("div",{class:"banner",ref_key:"bannerRef",ref:d},[h(F,{interval:5e3,arrow:"never",height:u.value+"px"},{default:n(()=>[(a(!0),c(w,null,y(L.value,(s,_)=>(a(),g(p,{class:"bannerImg",key:_},{default:n(()=>[t("img",{src:s.imgUrl,onLoad:N=>A(s.imgUrl),style:{width:"inherit","object-fit":"cover"}},null,40,Ce)]),_:2},1024))),128))]),_:1},8,["height"])],512),t("div",Ee,[t("div",Ie,[ze,t("div",Ne,[h(J,{class:"backgroundColor",height:"100%"},{default:n(()=>[(a(!0),c(w,null,y(C.value,(s,_)=>(a(),c("div",{key:_,class:"scrollbar-demo-item listitem"},[s.content.length<74?(a(),c("div",Ve,[Le,t("div",je,r(s.title),1),t("div",Re,r(s.content.slice(3,-4)),1)])):(a(),g(k,{key:1,placement:"top-start",title:s.title,width:280,trigger:"hover",content:s.content.slice(3,-4)},{reference:n(()=>[t("div",De,[Pe,t("div",Te,r(s.title),1),t("div",Ge,r(s.content.slice(3,-4)),1)])]),_:2},1032,["title","content"]))]))),128))]),_:1})])])])],4),We,t("div",Be,[h(Q,{gutter:20},{default:n(()=>[(a(!0),c(w,null,y(W.value,(s,_)=>(a(),g(O,{span:4,key:_},{default:n(()=>[h(K,{to:s.address},{default:n(()=>[t("div",Ue,[t("div",Me,[t("img",{src:s.src,alt:"",style:{width:"100%",height:"100%"}},null,8,$e)]),t("div",qe,[t("p",Ae,r(s.name),1)])])]),_:2},1032,["to"])]),_:2},1024))),128))]),_:1})]),t("div",He,[Fe,t("div",ke,[(a(!0),c(w,null,y(E.list,(s,_)=>(a(),c("div",{class:"items",onClick:N=>$(s.drawRecordsId),key:_},[t("img",{class:"itemsUrl",src:s.imageUrlList[0]+T(b).zip,alt:""},null,8,Ke),t("div",Oe,r(s.prompt),1),t("div",Qe,[t("button",{type:"button",class:"doingnow",onClick:G(N=>H(s),["stop"])}," 画同款 ",8,Xe)]),t("div",Ye,[t("div",Ze,[t("div",null,[s.avatar?(a(),g(P,{key:0,size:20,src:s.avatar,style:{"vertical-align":"middle"}},null,8,["src"])):(a(),g(P,{key:1,size:30,src:e.default_avatar,style:{"vertical-align":"middle"}},null,8,["src"])),t("span",et,r(s.nickname),1)]),t("div",{onClick:G(N=>M(s),["stop"]),class:pe(s.collect?"yesLight":"noLight")},[he(" ★ "),t("span",null,r(s.collectNum),1)],10,tt)])])],8,Je))),128))])])])]),h(T(Z),{dialogTableVisible:I.value,id:D.value,type:"gallery",onChangeStatus:q},null,8,["dialogTableVisible","id"])]),_:1})],32)}}});const Dt=ye(st,[["__scopeId","data-v-e8f70385"]]);export{Dt as default};
