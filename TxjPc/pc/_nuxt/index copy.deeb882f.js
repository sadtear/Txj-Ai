import{v as rl,r as i,af as jl,au as ul,o as d,c as p,a as e,O as Ol,b as a,w as n,h as c,aT as Ue,F as w,i as x,d as g,D as dl,p as cl,e as pl,l as Fl,a3 as Hl,f as Wl,a5 as Kl,g as Al,aU as Ql,L as Xl,m as V,q as H,t as h,z as Yl,n as ae,a6 as ze,aF as Zl,k as G,aC as tl,aV as et,aD as lt,aM as tt,aN as at,a4 as ot,E as st,aW as al,as as ol,ap as J,a9 as De,aE as sl,aO as nt}from"./entry.35d4c246.js";import{E as it}from"./index.d44e751f.js";import{E as rt}from"./el-card.6e2af8d2.js";import{E as vl}from"./index.93e13010.js";import{E as ut,a as dt}from"./index.d4a9ac2e.js";import{E as ct,b as pt,a as vt}from"./el-collapse.8f120924.js";import{b as _t,a as mt}from"./el-radio-group.3e93ee2b.js";import{a as ft,E as gt}from"./el-slider.8fa8eb76.js";import{E as ht,a as yt}from"./el-tabs.de01d035.js";import{E as bt}from"./el-row.5cfa1389.js";import{b as wt}from"./index.2f982f63.js";import{E as xt}from"./index.6f30e63e.js";import{E as _l}from"./index.e24e47ce.js";import{a as kt,b as St,E as Vt}from"./index.85266373.js";import{E as Ct}from"./index.1fc0ea57.js";import{E as ml}from"./index.6bed96cc.js";import{_ as Et}from"./layout.bd874b6a.js";/* empty css                */import"./el-tooltip.4ed993c7.js";/* empty css                  *//* empty css                  *//* empty css                  *//* empty css                     *//* empty css                 */import{E as It}from"./el-checkbox.ff0ca7d1.js";/* empty css                   *//* empty css                    *//* empty css                    *//* empty css                        */import{e as zt,_ as Dt}from"./errorImg.685080e1.js";import{b as Ut}from"./create.65762b44.js";import{L as nl}from"./index.2081050d.js";import{E as Lt}from"./el-result.1b1852fa.js";import{c as fl,k as Bt,a as $t,b as Tt}from"./drawing.998ab448.js";import{P as Gt}from"./empty_news.49a3869c.js";import{_ as gl}from"./_plugin-vue_export-helper.c27b6911.js";import{g as Mt}from"./generateDetails.bda147ca.js";import{c as Nt,t as Jt}from"./typeLIst.1ff2b2b6.js";import"./refs.179b14af.js";import"./strings.b7c92e5e.js";import"./isEqual.97080887.js";import"./_getTag.0a62c0db.js";import"./debounce.7d5a41e6.js";import"./castArray.048c84c6.js";import"./index.540b2914.js";import"./index.341c05ee.js";import"./dropdown.72fdcde9.js";import"./throttle.203d98ad.js";import"./position.fdd244ba.js";import"./index.f1996257.js";import"./index.89951fb8.js";import"./_commonjsHelpers.87174ba5.js";const hl=L=>(cl("data-v-229b7528"),L=L(),pl(),L),Rt={class:"dialog"},qt=hl(()=>e("span",{class:"text-xl font-medium text-[#101010]"},"关键词推荐",-1)),Pt=hl(()=>e("span",{class:""},"换一换",-1)),jt={key:0,class:"waterfallFlow"},Ot=["onClick"],Ft=["src"],Ht={key:1,class:"flex items-center justify-center w-full h-full"},Wt=rl({__name:"keyword-suggestion",props:{modelValue:{default:""}},emits:["update:modelValue"],setup(L,{emit:B}){const oe=L,M=i(!1);i(0);const $=i([]);i({prompt:[],cate_prompt:[]});const C=i([]);jl(()=>{oe.modelValue==""&&(C.value=[])});const se=E=>{M.value=!1,B("update:modelValue",E)},_=()=>{M.value=!0},k=async()=>{try{$.value=await fl({});for(let E in $.value)$.value[E].imageUrls&&($.value[E].imageUrlList=$.value[E].imageUrls.split(","))}catch{}};return ul(()=>{k()}),(E,T)=>{const W=dl,R=ml,K=Lt,A=_l,Q=vl;return d(),p("div",Rt,[e("div",{class:"dialog__trigger",onClick:_},[Ol(E.$slots,"trigger",{},void 0,!0)]),a(Q,{modelValue:M.value,"onUpdate:modelValue":T[0]||(T[0]=I=>M.value=I),width:"920px","align-center":!0,style:{"border-radius":"12px"}},{header:n(()=>[qt]),default:n(()=>[a(A,{height:"400px"},{default:n(()=>[e("div",{style:{color:"#18bfd0","margin-bottom":"10px"},onClick:k},[a(W,{size:"16",color:"inherit",style:{"vertical-align":"middle"}},{default:n(()=>[a(c(Ue))]),_:1}),Pt]),$.value.length>0?(d(),p("div",jt,[(d(!0),p(w,null,x($.value,(I,ne)=>(d(),p("ul",{key:ne},[e("li",{onClick:ie=>se(I.prompt)},[e("img",{src:I.imageUrlList[0],alt:""},null,8,Ft)],8,Ot)]))),128))])):(d(),p("div",Ht,[a(K,{title:"提示","sub-title":"暂无对应关键词"},{icon:n(()=>[a(R,{class:"w-[200px] h-[200px]",src:c(Gt)},null,8,["src"])]),default:n(()=>[g("> ")]),_:1})]))]),_:1})]),_:1},8,["modelValue"])])}}});const il=gl(Wt,[["__scopeId","data-v-229b7528"]]),v=L=>(cl("data-v-6ed150d7"),L=L(),pl(),L),Kt={class:"container"},At={class:"right"},Qt={class:"scrollbar-demo-item"},Xt={class:"demo-tabs"},Yt=["onClick"],Zt={class:"tsc"},ea=v(()=>e("strong",{class:"cueword"},"提示词",-1)),la={class:"length-suffix justify-end"},ta={class:"flex items-center cursor-pointer text-base",style:{margin:"8px 0"}},aa=v(()=>e("span",{class:""},"随便试试:",-1)),oa={class:"flex truncate"},sa=["onClick"],na={class:"mx"},ia={class:"czfg"},ra=v(()=>e("strong",null," 创作风格 ",-1)),ua=["src"],da={class:"size"},ca=v(()=>e("p",{class:"qi"},"奇想智能，通用万能模型",-1)),pa={class:"styleMod"},va=v(()=>e("div",{class:"qb"},[e("p",null,"全部"),e("div")],-1)),_a={class:"setScrollbar"},ma={class:"itemimg",style:{display:"grid","grid-template-columns":"repeat(5, 1fr)"}},fa=["onClick"],ga=["src"],ha={class:"size"},ya=v(()=>e("p",{class:"qi"},"奇想智能，通用万能模型",-1)),ba={class:"demo-collapse"},wa={class:"dropdown"},xa=v(()=>e("p",{class:"draw"},"画面尺寸",-1)),ka={class:"tooltip-base-box"},Sa={class:"row center"},Va={class:""},Ca=v(()=>e("div",{class:"dropdown"},[e("div",{class:"draw"},"图片质量")],-1)),Ea={class:"selector"},Ia={class:"dropdown",style:{position:"relative"}},za=v(()=>e("p",{class:"draw"},"生成张数",-1)),Da={class:"tooltip-base-box"},Ua={class:"row center"},La={class:"number",style:{position:"absolute",right:"0"}},Ba={class:"slider-demo-block"},$a={class:"tsc"},Ta=v(()=>e("strong",{class:"cueword"},"提示词",-1)),Ga={class:"length-suffix justify-end"},Ma={class:"flex items-center cursor-pointer text-base",style:{margin:"8px 0 20px"}},Na=v(()=>e("span",{class:""},"随便试试:",-1)),Ja={class:"flex truncate"},Ra=["onClick"],qa=v(()=>e("strong",{class:"cueword"},"不希望呈现的内容",-1)),Pa={class:"czfg"},ja={class:"czfg"},Oa=v(()=>e("strong",null," 创作风格 ",-1)),Fa=["src"],Ha={class:"size"},Wa=v(()=>e("p",{class:"qi"},"奇想智能，通用万能模型",-1)),Ka={class:"styleMod"},Aa=v(()=>e("div",{class:"qb"},[e("p",null,"全部"),e("div")],-1)),Qa={class:"setScrollbar"},Xa={class:"itemimg",style:{display:"grid","grid-template-columns":"repeat(5, 1fr)"}},Ya=["onClick"],Za=["src"],eo={class:"size"},lo=v(()=>e("p",{class:"qi"},"奇想智能，通用万能模型",-1)),to={class:"fgmx"},ao=v(()=>e("strong",null,"创作模型",-1)),oo={class:"slider-demo-block"},so={class:"demo-collapse"},no={class:"dropdown"},io=v(()=>e("p",{class:"draw"},"画面尺寸",-1)),ro={class:"tooltip-base-box"},uo={class:"row center"},co={class:"selector"},po={class:"dropdown"},vo=v(()=>e("p",{class:"draw"},"创意相关性",-1)),_o={class:"tooltip-base-box"},mo={class:"row center"},fo={class:"number"},go={class:"slider-demo-block"},ho={class:"dropdown"},yo=v(()=>e("p",{class:"draw"},"生成张数",-1)),bo={class:"tooltip-base-box"},wo={class:"row center"},xo={class:"number"},ko={class:"slider-demo-block"},So={class:"dropdown"},Vo=v(()=>e("p",{class:"draw"},"采样器",-1)),Co={class:"tooltip-base-box"},Eo={class:"row center"},Io={class:"slider-demo-block"},zo={class:"dropdown dropdown2"},Do=v(()=>e("p",{class:"draw"},"Seed",-1)),Uo={class:"tooltip-base-box"},Lo={class:"row center"},Bo={class:"input"},$o={class:"dropdown dropdown-mb"},To=v(()=>e("p",{class:"draw"},"面部修复",-1)),Go={key:0,style:{height:"100px"}},Mo={class:"fixedBottom"},No={style:{display:"flex","justify-content":"space-between"}},Jo={style:{"font-size":"12px"}},Ro={style:{"font-size":"12px"}},qo={style:{display:"flex","justify-content":"space-between"}},Po={style:{"font-size":"12px"}},jo={class:"ljsc"},Oo={class:"rightshow"},Fo=v(()=>e("div",{class:"allbox"},[e("span",null,"生成记录")],-1)),Ho={class:"showpicture"},Wo={key:0,class:"showGenerateBox"},Ko={class:"showGenerateBoxTop"},Ao={class:"showGenerateBoxTopLeft"},Qo={style:{width:"200px",overflow:"hidden","text-overflow":"ellipsis","white-space":"nowrap"}},Xo={class:"showGenerateBoxTopRight"},Yo=v(()=>e("span",null,"|",-1)),Zo={class:"showGenerateBox"},es={class:"showGenerateBoxTop"},ls={class:"showGenerateBoxTopLeft"},ts={style:{"max-width":"600px",overflow:"hidden","text-overflow":"ellipsis","white-space":"nowrap",display:"inline-block"}},as={class:"showGenerateBoxTopRight"},os=v(()=>e("span",null,"|",-1)),ss={class:ae(["showGenerateBoxBottom"])},ns=rl({__name:"index copy",setup(L){const B=Fl(),oe=Hl();Wl();const M=Kl(),$=i(0),C=i(null),se=i(""),_=i("MJ"),k=i(),E=i("generate"),T=i("1:1"),W=i(1),R=i(""),K=i(""),A=i(!1),Q=i(!1),I=i(!1),ne=i();i();const ie=i(!1),yl=i([{label:"普通",value:0},{label:"高清",value:1},{label:"超清",value:2},{label:"精绘",value:3}]),bl=i(["MJ","SD"]),Le=o=>{nt.confirm("是否删除此作品内所有图片","确认删除",{confirmButtonText:"确认",cancelButtonText:"取消",type:"warning"}).then(()=>{wl([o])})},wl=async o=>{let t=[];for(let s in o)t.push(o[s]);if(!t.length){ze.msgError("请选择需要删除的图片");return}try{await Tt(t).then(s=>{G({type:"success",message:"删除成功"})}),r.value=[],X()}catch(s){console.log("删除失败绘画记录",s)}},xl=Al({channel:_}),re=i([]),fe=i(),ue=i(""),de=i(""),Be=async()=>{await Ut(xl).then(o=>{re.value=[],re.value=o,ue.value=o[0].imgUrl,de.value=o[0].name,fe.value=o[0].name})};Be();const $e=o=>{ue.value=o.imgUrl,de.value=o.name,fe.value=o.name,N.value=!1},S=i({}),q=i({channel:_,taskId:R}),ge=i([]),he=()=>{fl({num:2}).then(t=>{ge.value=t})},Te=o=>{let t;if(o=="mj"){if(D.value.trim()==""){ze.msgError("请输入描述词");return}t=D.value}else{if(z.value.trim()==""){ze.msgError("请输入描述词");return}t=z.value}Bt({prompt:t}).then(s=>{o=="mj"?D.value=s.promptEn:z.value=s.promptEn})},Ge=(o,t)=>{t=="mj"?D.value=o:z.value=o};let r=i([]);const X=o=>{P.value=0,$t({pageNo:1,pageSize:5,drawType:1}).then(s=>{if(o!="no"&&(r.value=s.lists),o!="no"){if(!B.timer&&r.value.length>0){for(let u in r.value)if(r.value[u].progress!="100%"){if(_.value=="MJ"&&B.userInfo.balanceDraw>k.value*2){C.value=!0,r.value[u].born=!0,console.log(11),r.value[u].LoseStatus=!1,q.value.channel=r.value[u].channel,q.value.taskId=r.value[u].taskId,j("no");return}else r.value[u].LoseStatus=!0;if(_.value=="SD"&&B.userInfo.balanceDraw>U.value*3){C.value=!0,r.value[u].born=!0,console.log(11),r.value[u].LoseStatus=!1,q.value.channel=r.value[u].channel,q.value.taskId=r.value[u].taskId,j("no");return}else r.value[u].LoseStatus=!0}}}else if(localStorage.getItem("historyGenerateDatas")){let u=JSON.parse(localStorage.getItem("historyGenerateDatas"));r.value.forEach(y=>{u.id==y.id&&(console.log(22),y=u,y.born=!0,y.LoseStatus=!1)})}else for(let u in r.value)r.value[u].imageUrls||(r.value[u].born=!1,r.value[u].LoseStatus=!0,console.log(33));console.log("historyGenerateData",r.value)}).catch(s=>{console.log(s)})},P=i(0),kl=i(!1),b=i({}),ye=i(!1),j=o=>{Zl(q.value).then(t=>{if(P.value++,ie.value=!1,K.value=t.progress,se.value="",r.value.length>=1){for(let s in r.value)t.id==r.value[s].id&&!r.value[s].LoseStatus?r.value[s].progress!="100%"&&(r.value[s]=t,ye.value=!1):ye.value=!0;ye.value&&(t.id==r.value[0].id?r.value[0]=t:r.value.unshift(t))}else r.value.unshift(t);if(window.dispatchEvent(new CustomEvent("onProgress",{detail:{data:K.value,value:t}})),K.value!=="100%"){if(B.timer=setTimeout(j,8e3),r.value.length>0)for(let s in r.value)t.id==r.value[s].id&&(console.log("key不等于100%，继续发送请求"),r.value[s].born=!0,r.value[s].LoseStatus=!1);C.value=!0,localStorage.setItem("historyGenerateDatas",JSON.stringify(t))}else{if(r.value.length>0){for(let s in r.value)r.value[s].imageUrls&&(r.value[s].imageUrlList=r.value[s].imageUrls.split(","));for(let s in r.value)if(t.id==r.value[s].id){r.value[s].born=!1;break}}C.value=!1,P.value==1?X():X("no"),o=="no"&&X("no")}}).catch(t=>{for(let s in r.value)r.value[s].taskId==q.value.taskId&&(r.value[s].LoseStatus=!0,r.value[s].born=!1);localStorage.setItem("historyGenerateData",JSON.stringify(r.value.slice(0,5))),ie.value=!0})},Me=(o,t)=>{$.value=t,o=="SD"?_.value="SD":o=="MJ"&&(_.value="MJ"),S.value=[],Be()},Ne=o=>o.progress.split("%")[0],z=i(),D=i(),Sl=()=>{if(_.value=="MJ"&&B.userInfo.balanceDraw<k.value*2){G({type:"success",message:"请联系管理员"});return}else if(_.value=="SD"&&B.userInfo.balanceDraw<U.value*3){G({type:"success",message:"请联系管理员"});return}else Vl()},Vl=async()=>{if(P.value=0,S.value={channel:_,prompt:se,batchSize:k,action:E,sizeRatio:T,quality:W,styleName:fe},_.value=="SD"?(S.value.prompt=z.value,S.value.negativePrompt=ke.value,S.value.model=pe.value,S.value.samplerIndex=O.value,S.value.restoreFaces=be.value,S.value.cfgScale=Z.value,S.value.seed=ce.value||-1,S.value.batchSize=U.value):S.value.prompt=D.value,_.value=="MJ"&&!D.value)return G({message:"提示词不能为空",type:"warning"});if(_.value=="SD"&&!z.value)return G({message:"提示词不能为空",type:"warning"});if(C.value&&!ie.value){G({message:"正在生成中...",type:"warning"});return}I.value||(I.value=!0,S.value.useTokens=_.value=="MJ"?k.value*2:U.value*3,await tl(S.value).then(o=>{B.getUser(),C.value=!0,R.value=o.taskId,j(),I.value=!1}).catch(o=>{I.value=!1,G({message:o,type:"warning"}),C.value=!1}))},Cl=async(o,t)=>{console.log(o),P.value=0,_.value=o.channel;const s={channel:o.channel,prompt:o.prompt,batchSize:o.batchSize,sizeRatio:o.scale,quality:o.quality,action:"generate",styleName:o.styleName};o.channel=="SD"&&(s.negativePrompt=o.negativePrompt,s.model=o.model,s.samplerIndex=o.samplerIndex,s.restoreFaces=o.restoreFaces,s.cfgScale=o.cfgScale,s.seed=o.seed,s.batchSize=o.batchSize),console.log(s),await tl(s).then(u=>{C.value=!0,R.value=u.taskId,j()}),r.value.splice(t,1),localStorage.setItem("historyGenerateData",JSON.stringify(r.value))},Je=i(),El=o=>{Q.value=!0,Je.value=o.id},Il=(o,t)=>{var s=new Image;s.setAttribute("crossOrigin","anonymous"),s.onload=function(){var u=document.createElement("canvas");u.width=s.width,u.height=s.height;var y=u.getContext("2d");y.drawImage(s,0,0,s.width,s.height);var _e=u.toDataURL("image/png"),F=document.createElement("a"),me=new MouseEvent("click");F.download=t||"photo",F.href=_e,F.dispatchEvent(me)},s.src=o},Re=o=>{let t=new Date().getTime();Il(o,`${t}`)},zl=(o,t)=>{if(t.channel=="MJ"){let u=t.imageUrls.split(",");for(var s=0;s<u.length;s++)Re(u[s])}else if(t.imageUrls){let u=t.imageUrls.split(",");for(var s=0;s<u.length;s++)Re(u[s])}},{toClipboard:Dl}=Nt(),qe=async o=>{try{await Dl(o.prompt),G({type:"success",message:"复制成功!"})}catch(t){console.error(t),G({type:"error",message:"复制失败，请手动复制"})}};i(!0);const be=i(!0),Y=i(!0);i(""),i(!1),i(!1),i(!1);const N=i(!1),U=i(1),Z=i(7);i(1),i(0),i(0),i(0);const Pe=o=>{console.log(o)},ce=i(""),pe=i(""),we=i([]);let O=i();const Ul=()=>{et({}).then(o=>{console.log(o),we.value=o,O.value=we.value[0].name})},xe=i([]);(async()=>{await lt({}).then(o=>{xe.value=o.filter(t=>t.name!="暂无"),T.value=o[0].ratioWidth+":"+o[0].ratioHeight})})(),i(""),i("");const ve=i(["1"]);i(["1"]);const je=o=>{console.log(o)},Ll=o=>{tt({id:o}).then(t=>{const s=t;_.value=s.channel,Bl(s.drawWorkId)}).catch(t=>{console.log(t)})},Bl=o=>{at({},o).then(t=>{C.value=!0,R.value=t.taskId,j()})};ul(()=>{X(),P.value=0,Ul(),Tl(),he(),M.query&&M.query.id&&Ll(M.query.id),window.addEventListener("onProgress",function(o){if(C.value=o.detail.data!="100%",o.detail.data=="100%"){for(let t in r.value)if(o.detail.value.id==r.value[t].id){r.value[t]=o.detail.value,r.value[t].born=!1,r.value[t].LoseStatus=!1;const s=i([]);localStorage.setItem("historyGenerateData",JSON.stringify(s.value)),console.log("监听进来了",localStorage.getItem("historyGenerateData"));break}}else for(let t in r.value)if(o.detail.value.id==r.value[t].id){r.value[t]=o.detail.value,r.value[t].born=!0,r.value[t].LoseStatus=!1;const s=i([]);localStorage.setItem("historyGenerateData",JSON.stringify(s.value)),console.log("监听进来了2",localStorage.getItem("historyGenerateData"));break}})});const ke=i("");i(""),i(""),i(!1);const Oe=(o,t)=>{if(console.log(o),A.value=o,Q.value=o,t){for(let s in r.value)t==r.value[s].id&&(r.value[s].isContribute=!0);localStorage.setItem("historyGenerateData",JSON.stringify(r.value))}},Fe=i(),$l=o=>{A.value=!0,Fe.value=o.id},Se=i([]),Tl=()=>{Ql({}).then(o=>{Se.value=o,pe.value=Se.value[0].modelName})},Gl=()=>{Y.value&&(ce.value="")};return i(!1),(o,t)=>{const s=ot,u=dl,y=it,_e=rt,F=Xl("StarFilled"),me=vl,ee=dt,le=ut,Ve=ct,He=_t,Ml=mt,Ce=ft,We=pt,Ke=vt,Ae=ht,Qe=st,Xe=bt,Ye=gt,Nl=wt,Jl=yt,Ee=xt,Rl=_l,Ze=kt,el=Ct,te=St,ql=Vt,ll=ml,Pl=Et;return d(),p("div",null,[a(Pl,{name:"default"},{default:n(()=>[e("div",Kt,[e("div",At,[a(Rl,null,{default:n(()=>[e("p",Qt,[e("div",Xt,[e("ul",null,[(d(!0),p(w,null,x(bl.value,(l,f)=>(d(),p("li",{key:f,onClick:m=>Me(l,f),class:ae($.value==f?"activeClass":"")},h(l),11,Yt))),128))])]),a(Jl,{modelValue:_.value,"onUpdate:modelValue":t[29]||(t[29]=l=>_.value=l),type:"border-card",class:"demo-tabs",stretch:"true",onTabChange:Me},{default:n(()=>[a(Ae,{class:"mj",label:"MJ",name:"MJ"},{default:n(()=>[e("div",Zt,[ea,a(c(nl),{modelValue:D.value,"onUpdate:modelValue":t[3]||(t[3]=l=>D.value=l),maxlength:"1024",rows:7,clearable:!0,"show-word-limit":!1,customStyle:{paddingBottom:"24px",marginTop:"15px"},placeholder:"输入英文描述词，生成效果会更好；描述词越详细，生成的图片效果更加真实哦～"},{"length-suffix":n(()=>{var l,f;return[e("div",la,[a(c(il),{modelValue:D.value,"onUpdate:modelValue":t[0]||(t[0]=m=>D.value=m)},{trigger:n(()=>[a(s,{type:"primary",link:!0,class:"mb-[1px] ml-[10px]"},{default:n(()=>[g(" 关键词推荐 ")]),_:1})]),_:1},8,["modelValue"]),((f=(l=c(oe))==null?void 0:l.getDrawConfig)==null?void 0:f.translate_type)==2?(d(),V(s,{key:0,type:"default",link:!0,class:"ml-[10px]",icon:c(al),loading:o.isTranslate,onClick:t[1]||(t[1]=m=>Te("mj"))},{default:n(()=>[g(" 翻译成英文 ")]),_:1},8,["icon","loading"])):H("",!0),a(s,{type:"default",link:!0,class:"ml-[10px]",icon:c(ol),onClick:t[2]||(t[2]=m=>D.value="")},{default:n(()=>[g(" 清空 ")]),_:1},8,["icon"])])]}),_:1},8,["modelValue"]),e("div",ta,[e("div",{class:"flex items-center hover:text-primary select-none",style:{color:"#8e8e8e"},onClick:he},[a(u,{size:"16",color:"inherit",style:{"vertical-align":"middle"}},{default:n(()=>[a(c(Ue))]),_:1}),aa]),e("div",oa,[(d(!0),p(w,null,x(ge.value,(l,f)=>(d(),V(y,{class:"ml-[10px]",effect:"light",key:f,content:l.prompt,placement:"bottom"},{default:n(()=>[e("span",{class:"ml-[10px]",style:{"max-width":"100px",overflow:"hidden","text-overflow":"ellipsis","white-space":"nowrap"},onClick:m=>Ge(l.prompt,"mj")},h(l.prompt),9,sa)]),_:2},1032,["content"]))),128))])])]),e("div",na,[e("div",ia,[ra,a(_e,{"body-class":"selectStyle",shadow:"hover",onClick:t[4]||(t[4]=l=>N.value=!0)},{default:n(()=>[e("img",{src:ue.value,alt:""},null,8,ua),e("div",da,[e("p",null,h(de.value),1),ca])]),_:1}),a(me,{modelValue:N.value,"onUpdate:modelValue":t[5]||(t[5]=l=>N.value=l),title:"创作风格",width:"30%"},{default:n(()=>[e("div",pa,[va,e("div",_a,[e("div",ma,[(d(!0),p(w,null,x(re.value,(l,f)=>(d(),p("div",{class:"img",key:f,onClick:m=>$e(l)},[e("img",{src:l.imgUrl,alt:""},null,8,ga),e("div",null,[e("div",null,[e("p",ha,h(l.name),1),ya]),a(u,null,{default:n(()=>[a(F)]),_:1})])],8,fa))),128))])])])]),_:1},8,["modelValue"])])]),e("div",ba,[a(Ke,{modelValue:ve.value,"onUpdate:modelValue":t[10]||(t[10]=l=>ve.value=l),onHandleChange:je},{default:n(()=>[a(We,{class:"title",title:"参数设定",name:"1"},{default:n(()=>[e("div",wa,[xa,e("div",null,[e("div",ka,[e("div",Sa,[a(y,{class:"box-item",effect:"dark",content:"选择需要的比例与尺寸，尺寸越大耗时越久。",placement:"top-start"},{default:n(()=>[a(s,null,{default:n(()=>[a(u,null,{default:n(()=>[a(c(J))]),_:1})]),_:1})]),_:1})])])])]),e("div",Va,[a(le,{modelValue:T.value,"onUpdate:modelValue":t[6]||(t[6]=l=>T.value=l),placeholder:"3:4"},{default:n(()=>[(d(!0),p(w,null,x(xe.value,l=>(d(),V(ee,{key:l.ratioWidth+":"+l.ratioHeight,label:l.name+""+l.ratioWidth+":"+l.ratioHeight,value:l.ratioWidth+":"+l.ratioHeight},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),a(Ve),Ca,e("div",Ea,[a(le,{modelValue:W.value,"onUpdate:modelValue":t[7]||(t[7]=l=>W.value=l),class:"m-2"},{default:n(()=>[(d(!0),p(w,null,x(yl.value,l=>(d(),V(ee,{key:l.value,label:l.label,value:l.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),a(Ve),e("div",Ia,[za,e("div",null,[e("div",Da,[e("div",Ua,[a(y,{class:"box-item",effect:"dark",content:"生成张数越多，耗时越久。",placement:"top-start"},{default:n(()=>[a(s,null,{default:n(()=>[a(u,null,{default:n(()=>[a(c(J))]),_:1})]),_:1})]),_:1})])])]),e("div",La,[a(Ml,{modelValue:k.value,"onUpdate:modelValue":t[8]||(t[8]=l=>k.value=l)},{default:n(()=>[a(He,{label:1},{default:n(()=>[g("1")]),_:1}),a(He,{label:4},{default:n(()=>[g("4")]),_:1})]),_:1},8,["modelValue"])])]),e("div",Ba,[a(Ce,{modelValue:k.value,"onUpdate:modelValue":t[9]||(t[9]=l=>k.value=l),"show-tooltip":!1,min:1,max:4,step:4},null,8,["modelValue"])])]),_:1})]),_:1},8,["modelValue"])])]),_:1}),a(Ae,{label:"SD",name:"SD",class:"sd"},{default:n(()=>[e("div",$a,[Ta,a(c(nl),{modelValue:z.value,"onUpdate:modelValue":t[14]||(t[14]=l=>z.value=l),maxlength:"1024",rows:7,clearable:!0,"show-word-limit":!1,customStyle:{paddingBottom:"24px",marginTop:"15px"},placeholder:"输入英文描述词，生成效果会更好；描述词越详细，生成的图片效果更加真实哦～"},{"length-suffix":n(()=>{var l,f;return[e("div",Ga,[a(c(il),{modelValue:z.value,"onUpdate:modelValue":t[11]||(t[11]=m=>z.value=m)},{trigger:n(()=>[a(s,{type:"primary",link:!0,class:"mb-[1px] ml-[10px]"},{default:n(()=>[g(" 关键词推荐 ")]),_:1})]),_:1},8,["modelValue"]),((f=(l=c(oe))==null?void 0:l.getDrawConfig)==null?void 0:f.translate_type)==2?(d(),V(s,{key:0,type:"default",link:!0,class:"ml-[10px]",icon:c(al),loading:o.isTranslate,onClick:t[12]||(t[12]=m=>Te("sd"))},{default:n(()=>[g(" 翻译成英文 ")]),_:1},8,["icon","loading"])):H("",!0),a(s,{type:"default",link:!0,class:"ml-[10px]",icon:c(ol),onClick:t[13]||(t[13]=m=>z.value="")},{default:n(()=>[g(" 清空 ")]),_:1},8,["icon"])])]}),_:1},8,["modelValue"]),e("div",Ma,[e("div",{class:"flex items-center hover:text-primary select-none",style:{color:"#8e8e8e"},onClick:he},[a(u,{size:"16",color:"inherit",style:{"vertical-align":"middle"}},{default:n(()=>[a(c(Ue))]),_:1}),Na]),e("div",Ja,[(d(!0),p(w,null,x(ge.value,(l,f)=>(d(),V(y,{class:"ml-[10px]",effect:"light",key:f,content:l.prompt,placement:"bottom"},{default:n(()=>[e("span",{class:"ml-[10px]",style:{"max-width":"100px",overflow:"hidden","text-overflow":"ellipsis","white-space":"nowrap"},onClick:m=>Ge(l.prompt,"sd")},h(l.prompt),9,Ra)]),_:2},1032,["content"]))),128))])]),qa,a(Qe,{class:"textarea",modelValue:ke.value,"onUpdate:modelValue":t[15]||(t[15]=l=>ke.value=l),maxlength:"800",placeholder:"请输入你的创意","show-word-limit":"",type:"textarea",style:{"border-radius":"10px"}},null,8,["modelValue"])]),e("div",Pa,[e("div",ja,[Oa,a(Xe,{style:{"margin-bottom":"15px"},gutter:12},{default:n(()=>[a(_e,{"body-class":"selectStyle",shadow:"hover",onClick:t[16]||(t[16]=l=>N.value=!0)},{default:n(()=>[e("img",{src:ue.value,alt:""},null,8,Fa),e("div",Ha,[e("p",null,h(de.value),1),Wa])]),_:1}),a(me,{modelValue:N.value,"onUpdate:modelValue":t[17]||(t[17]=l=>N.value=l),title:"创作风格"},{default:n(()=>[e("div",Ka,[Aa,e("div",Qa,[e("div",Xa,[(d(!0),p(w,null,x(re.value,(l,f)=>(d(),p("div",{class:"img",key:f,onClick:m=>$e(l)},[e("img",{src:l.imgUrl,alt:""},null,8,Za),e("div",null,[e("div",null,[e("p",eo,h(l.name),1),lo]),a(u,null,{default:n(()=>[a(F)]),_:1})])],8,Ya))),128))])])])]),_:1},8,["modelValue"])]),_:1})])]),e("div",to,[ao,a(Xe,{class:"mb-4"},{default:n(()=>[e("div",oo,[a(le,{modelValue:pe.value,"onUpdate:modelValue":t[18]||(t[18]=l=>pe.value=l),class:"s-1"},{default:n(()=>[(d(!0),p(w,null,x(Se.value,l=>(d(),V(ee,{key:l,label:l.modelName,value:l.modelName},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])])]),_:1})]),e("div",so,[a(Ke,{modelValue:ve.value,"onUpdate:modelValue":t[28]||(t[28]=l=>ve.value=l),onHandleChange:je},{default:n(()=>[a(We,{class:"title",title:"参数设定",name:"1"},{default:n(()=>[e("div",no,[io,e("div",null,[e("div",ro,[e("div",uo,[a(y,{class:"box-item",effect:"dark",content:"选择需要的比例与尺寸，尺寸越大耗时越久。",placement:"top-start"},{default:n(()=>[a(s,null,{default:n(()=>[a(u,null,{default:n(()=>[a(c(J))]),_:1})]),_:1})]),_:1})])])])]),e("div",co,[a(le,{modelValue:T.value,"onUpdate:modelValue":t[19]||(t[19]=l=>T.value=l),class:"s-1"},{default:n(()=>[(d(!0),p(w,null,x(xe.value,l=>(d(),V(ee,{key:l.ratioWidth+":"+l.ratioHeight,label:l.name+""+l.ratioWidth+":"+l.ratioHeight,value:l.ratioWidth+":"+l.ratioHeight},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),a(Ve),e("div",po,[vo,e("div",_o,[e("div",mo,[a(y,{class:"box-item",effect:"dark",content:"控制图片生成过程中遵循提示词的程度，值越高，图像就越贴合描述内容。但较高的值会降低创意性与质量。",placement:"top-start"},{default:n(()=>[a(s,null,{default:n(()=>[a(u,null,{default:n(()=>[a(c(J))]),_:1})]),_:1})]),_:1})])]),e("div",fo,[a(Ye,{modelValue:Z.value,"onUpdate:modelValue":t[20]||(t[20]=l=>Z.value=l),class:"mx-1",min:1,max:20,step:.5,"controls-position":"right",onHandleChange1:Pe},null,8,["modelValue"])])]),e("div",go,[a(Ce,{modelValue:Z.value,"onUpdate:modelValue":t[21]||(t[21]=l=>Z.value=l),step:.5,min:1,max:20},null,8,["modelValue"])]),e("div",ho,[yo,e("div",bo,[e("div",wo,[a(y,{class:"box-item",effect:"dark",content:"生成张数越多，耗时越久。",placement:"top-start"},{default:n(()=>[a(s,null,{default:n(()=>[a(u,null,{default:n(()=>[a(c(J))]),_:1})]),_:1})]),_:1})])]),e("div",xo,[a(Ye,{modelValue:U.value,"onUpdate:modelValue":t[22]||(t[22]=l=>U.value=l),class:"mx-2",min:1,max:4,"controls-position":"right",onHandleChange1:Pe},null,8,["modelValue"])])]),e("div",ko,[a(Ce,{modelValue:U.value,"onUpdate:modelValue":t[23]||(t[23]=l=>U.value=l),"show-tooltip":!1,min:1,max:4},null,8,["modelValue"])]),e("div",So,[Vo,e("div",Co,[e("div",Eo,[a(y,{class:"box-item",effect:"dark",content:"选择不同的采样器效果与耗时会有所不同",placement:"top-start"},{default:n(()=>[a(s,null,{default:n(()=>[a(u,null,{default:n(()=>[a(c(J))]),_:1})]),_:1})]),_:1})])])]),e("div",Io,[a(le,{modelValue:c(O),"onUpdate:modelValue":t[24]||(t[24]=l=>Yl(O)?O.value=l:O=l),class:"s-1"},{default:n(()=>[(d(!0),p(w,null,x(we.value,l=>(d(),V(ee,{key:l,label:l.name,value:l.name},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),e("div",zo,[Do,e("div",Uo,[e("div",Lo,[a(y,{class:"box-item",effect:"dark",content:"稳定图片风格的种子，当随机出一组觉得不错的风格图片时，可固定seed种子进行描述或其他参数的微调来达到最佳效果。",placement:"top-start"},{default:n(()=>[a(s,null,{default:n(()=>[a(u,null,{default:n(()=>[a(c(J))]),_:1})]),_:1})]),_:1})])]),e("div",null,[a(Nl,{modelValue:Y.value,"onUpdate:modelValue":t[25]||(t[25]=l=>Y.value=l),label:"随机",onChange:Gl,size:"large"},null,8,["modelValue"])])]),e("div",Bo,[a(Qe,{modelValue:ce.value,"onUpdate:modelValue":t[26]||(t[26]=l=>ce.value=l),placeholder:Y.value?"随机中":"请输入",clearable:"",disabled:Y.value},null,8,["modelValue","placeholder","disabled"])]),e("div",$o,[To,e("div",null,[a(c(It),{modelValue:be.value,"onUpdate:modelValue":t[27]||(t[27]=l=>be.value=l)},null,8,["modelValue"])])])]),_:1})]),_:1},8,["modelValue"])]),_.value=="SD"?(d(),p("div",Go)):H("",!0)]),_:1})]),_:1},8,["modelValue"])]),e("div",Mo,[e("div",No,[e("div",Jo,"消耗"+h(_.value=="MJ"?k.value*2:U.value*3)+"条绘画次数",1),e("div",null,[a(Ee,{placement:"top-end",title:"明细",width:200,trigger:"hover"},{reference:n(()=>[e("div",Po,[g("明细 "),a(u,{size:12},{default:n(()=>[a(c(De))]),_:1})])]),default:n(()=>[e("div",Ro,[e("div",qo,[e("span",null,"文生图*"+h(_.value=="MJ"?k.value:U.value),1),e("span",null,h(_.value=="MJ"?k.value*2:U.value*3)+"条绘画次数",1)])])]),_:1})])]),e("div",jo,[a(s,{type:"primary",onClick:Sl,disabled:I.value},{default:n(()=>[g(h(I.value?"请求中...":"立即生成"),1)]),_:1},8,["disabled"])])])]),_:1})]),e("div",Oo,[Fo,e("div",Ho,[kl.value?(d(),p("div",Wo,[e("div",Ko,[e("div",Ao,[a(Ee,{placement:"top-start",width:150,trigger:"hover",content:"复制文本到‘描述’中"},{reference:n(()=>[a(s,{icon:c(sl),onClick:t[30]||(t[30]=l=>qe(b.value.prompt)),size:"small",circle:"",style:{width:"1em",height:"1em","margin-right":"8px",cursor:"pointer"}},null,8,["icon"])]),_:1}),e("span",Qo,h(b.value.prompt),1)]),e("div",Xo,[e("span",null,h(b.value.createTime),1),e("span",null,"绘画渠道: "+h(b.value.channel?b.value.channel:"无"),1),Yo,a(Ze,null,{default:n(()=>[a(s,{type:"primary",disabled:""},{default:n(()=>[g(" 功能选择"),a(u,{class:"el-icon--right"},{default:n(()=>[a(c(De))]),_:1})]),_:1})]),_:1})])]),e("div",{class:ae(["showGenerateBoxBottom",b.value.progress!=="100%"?"showGenerateBoxBottomLoadBox":""])},[(d(!0),p(w,null,x(b.value.batchSize,l=>(d(),p("div",{ref_for:!0,ref_key:"boxImg",ref:ne,class:ae([b.value.scale=="1:1"?"imageSize1_1":b.value.scale=="2:3"?"imageSize2_3":b.value.scale=="3:2"?"imageSize3_2":b.value.scale=="3:4"?"imageSize3_4":b.value.scale=="4:3"?"imageSize4_3":b.value.scale=="9:16"?"imageSize9_16":b.value.scale=="16:9"?"imageSize16_9":" ","showGenerateBoxBottomLoad"])},[a(el,{type:"circle","striped-flow":"",percentage:Ne(b.value)},null,8,["percentage"])],2))),256))],2)])):H("",!0),c(r).length>0?(d(!0),p(w,{key:1},x(c(r),(l,f)=>(d(),p("div",Zo,[e("div",es,[e("div",ls,[a(Ee,{placement:"top-start",width:150,trigger:"hover",content:"复制文本到‘描述’中"},{reference:n(()=>[a(s,{icon:c(sl),onClick:m=>qe(l),size:"small",circle:"",style:{width:"1em",height:"1em","margin-right":"8px",cursor:"pointer"}},null,8,["icon","onClick"])]),_:2},1024),e("span",ts,h(l.prompt),1)]),e("div",as,[e("span",null,h(l.createTime),1),e("span",null,"绘画渠道: "+h(l.channel?l.channel:"无"),1),os,l.LoseStatus?(d(),V(s,{key:0,onClick:m=>Le(l.id),style:{"margin-right":"8px"}},{default:n(()=>[g("删除")]),_:2},1032,["onClick"])):H("",!0),a(Ze,{trigger:"click"},{dropdown:n(()=>[a(ql,null,{default:n(()=>[a(te,{onClick:m=>zl(m,l)},{default:n(()=>[g("下载")]),_:2},1032,["onClick"]),a(te,{onClick:m=>Cl(l,f)},{default:n(()=>[g("重绘")]),_:2},1032,["onClick"]),a(te,{onClick:m=>Le(l.id)},{default:n(()=>[g("删除")]),_:2},1032,["onClick"]),a(te,{disabled:l.isContribute,onClick:m=>El(l)},{default:n(()=>[g("投稿")]),_:2},1032,["disabled","onClick"]),a(te,{onClick:m=>$l(l)},{default:n(()=>[g("详情")]),_:2},1032,["onClick"])]),_:2},1024)]),default:n(()=>[a(s,{type:"primary",disabled:l.born},{default:n(()=>[g(" 功能选择"),a(u,{class:"el-icon--right"},{default:n(()=>[a(c(De))]),_:1})]),_:2},1032,["disabled"])]),_:2},1024)])]),e("div",ss,[l.progress=="100%"?(d(!0),p(w,{key:0},x(l.imageUrlList,(m,Ie)=>(d(),V(ll,{style:{"border-radius":"5px",margin:"0px 5px"},src:l.imageUrlList[Ie]+c(B).zip,"zoom-rate":1.2,"preview-src-list":l.imageUrlList,"initial-index":Ie,fit:"cover","hide-on-click-modal":"true",key:Ie},null,8,["src","preview-src-list","initial-index"]))),128)):l.LoseStatus?(d(),V(ll,{key:1,style:{"border-radius":"5px",margin:"0px 5px"},src:c(zt),"zoom-rate":1.2,"initial-index":f,fit:"cover","hide-on-click-modal":"true"},null,8,["src","initial-index"])):l.born==!0?(d(!0),p(w,{key:2},x(l.batchSize,m=>(d(),p("div",{ref_for:!0,ref_key:"boxImg",ref:ne,class:ae([l.scale=="1:1"?"imageSize1_1":l.scale=="2:3"?"imageSize2_3":l.scale=="3:2"?"imageSize3_2":l.scale=="3:4"?"imageSize3_4":l.scale=="4:3"?"imageSize4_3":l.scale=="9:16"?"imageSize9_16":l.scale=="16:9"?"imageSize16_9":" ","showGenerateBoxBottomLoad"])},[a(el,{type:"circle","striped-flow":"",status:l.LoseStatus,color:l.LoseStatus?"red":"",percentage:Ne(l)},null,8,["status","color","percentage"])],2))),256)):H("",!0)])]))),256)):(d(),V(c(Dt),{key:2}))])])])]),_:1}),a(c(Mt),{dialogTableVisible:A.value,id:Fe.value,onChangeStatus:Oe},null,8,["dialogTableVisible","id"]),a(c(Jt),{contributeVisible:Q.value,id:Je.value,onChangeOff:Oe},null,8,["contributeVisible","id"])])}}});const nn=gl(ns,[["__scopeId","data-v-6ed150d7"]]);export{nn as default};
