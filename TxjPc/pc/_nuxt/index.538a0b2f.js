import{g as w,_ as q}from"./news.5c50ce3a.js";import{v as C,a5 as E,y as d,g as N,x as z,a2 as S,o,c as a,a as u,h as e,t as l,M as A,q as B,F as P,i as b,b as y,a7 as D,m as L}from"./entry.35d4c246.js";import{u as V}from"./asyncData.fb96340f.js";import{P as $}from"./empty_news.49a3869c.js";import{E as j}from"./index.546f2002.js";import{E as F}from"./index.f1996257.js";import"./nuxt-link.03dc7053.js";import"./index.6bed96cc.js";import"./throttle.203d98ad.js";import"./debounce.7d5a41e6.js";import"./position.fdd244ba.js";import"./index.d4a9ac2e.js";import"./index.d44e751f.js";import"./index.e24e47ce.js";import"./strings.b7c92e5e.js";import"./isEqual.97080887.js";import"./_getTag.0a62c0db.js";const I={class:"min-h-full flex flex-col"},T={class:"text-4xl mb-5"},U={key:0},M={key:1},R={key:0,class:"bg-white px-5 rounded overflow-hidden"},Y={key:0,class:"pt-5 text-tx-secondary"},G={class:"py-4 flex justify-end"},H={key:1,class:"flex-1 flex justify-center items-center"},me=C({__name:"index",async setup(J){let r,p;const t=E(),g=d(()=>t.params.source=="search"?"":t.params.source),_=d(()=>t.query.keywords||""),f=d(()=>t.query.cid||""),i=N({pageNo:1,pageSize:15,keyword:_,cid:f,sort:g}),{data:n,refresh:m,pending:h}=([r,p]=z(()=>V(()=>w(i),{initialCache:!1},"$ewxCUYuASd")),r=await r,p(),r),k=d(()=>{switch(t.params.source){case"hot":return"热门资讯";case"new":return" 最新资讯";default:return"全部资讯"}});return S([()=>t.query.keywords,()=>t.query.cid],()=>{m()}),(K,c)=>{const x=q,v=D;return o(),a("div",I,[u("div",T,[e(t).query.keywords?(o(),a("span",U,' 查找"'+l(e(t).query.keywords)+'" ',1)):(o(),a("span",M,l(e(t).query.name||e(k)),1))]),A((o(),a("div",null,[e(n).lists.length?(o(),a("div",R,[e(t).query.keywords?(o(),a("div",Y," 为您找到相关结果 "+l(e(n).count)+"个 ",1)):B("",!0),(o(!0),a(P,null,b(e(n).lists,s=>(o(),L(x,{key:s.id,id:s.id,title:s.title,desc:s.intro,click:s.visit,author:s.author,"create-time":s.createTime,image:s.image,"only-title":!1},null,8,["id","title","desc","click","author","create-time","image"]))),128)),u("div",G,[y(e(j),{"current-page":e(i).pageNo,"onUpdate:currentPage":c[0]||(c[0]=s=>e(i).pageNo=s),total:e(n).count,"page-size":e(i).pageSize,"hide-on-single-page":"",onCurrentChange:c[1]||(c[1]=s=>e(m)())},null,8,["current-page","total","page-size"])])])):(o(),a("div",H,[y(e(F),{image:e($),description:"暂无资讯","image-size":250},null,8,["image"])]))])),[[v,e(h)]])])}}});export{me as default};
