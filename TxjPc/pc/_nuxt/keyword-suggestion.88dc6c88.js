import{a as F,E as L}from"./el-tabs.de01d035.js";import{E as U}from"./index.6bed96cc.js";import{E as q}from"./el-result.1b1852fa.js";import{E as z}from"./index.e24e47ce.js";import{v as M,r as _,af as O,au as R,o as t,c as o,a as y,O as G,b as p,w as s,d as h,F as v,i as f,t as u,q as P,h as H,a4 as J,m as Q,n as S,p as W,e as X}from"./entry.35d4c246.js";import{E as Y}from"./index.93e13010.js";/* empty css                        *//* empty css                     *//* empty css                  */import{e as Z,f as ee}from"./drawing.998ab448.js";import{P as te}from"./empty_news.49a3869c.js";import{_ as oe}from"./_plugin-vue_export-helper.c27b6911.js";import"./strings.b7c92e5e.js";import"./index.341c05ee.js";import"./throttle.203d98ad.js";import"./debounce.7d5a41e6.js";import"./position.fdd244ba.js";import"./refs.179b14af.js";const ae=c=>(W("data-v-74cef4b2"),c=c(),X(),c),le={class:"dialog"},re=ae(()=>y("span",{class:"text-xl font-medium text-[#101010]"},"关键词推荐",-1)),se={class:"keyword-title text-base text-[#666]"},ne=["onClick"],pe={key:0,class:"keyword-container"},ue={key:0,class:"keyword-title text-base text-[#666]"},ce=["onClick"],de={key:1,class:"flex items-center justify-center w-full h-full"},ie={class:"dialog-footer"},me=M({__name:"keyword-suggestion",props:{modelValue:{default:""}},emits:["update:modelValue"],setup(c,{emit:E}){const x=c,d=_(!1),g=_(0),k=_([]),n=_({prompt:[],cate_prompt:[]}),r=_([]);O(()=>{x.modelValue==""&&(r.value=[])});const b=a=>{const l=r.value.findIndex(w=>w==a);if(l>=0){r.value.splice(l,1);return}r.value.push(a)},I=()=>{d.value=!1;const a=x.modelValue+r.value.join(",")+",";E("update:modelValue",a),r.value=[]},B=()=>{d.value=!1,E("update:modelValue",r.value.join(",")+","),r.value=[]},N=()=>{d.value=!0},$=async()=>{try{k.value=await Z(),await C()}catch(a){console.log("获取关键词分类错误",a)}},C=async()=>{try{n.value=await ee({id:k.value[g.value].id})}catch(a){console.log("获取关键词错误",a)}};return R(()=>{$()}),(a,l)=>{const w=L,T=F,j=U,D=q,K=z,V=J,A=Y;return t(),o("div",le,[y("div",{class:"dialog__trigger",onClick:N},[G(a.$slots,"trigger",{},void 0,!0)]),p(A,{modelValue:d.value,"onUpdate:modelValue":l[3]||(l[3]=e=>d.value=e),width:"920px","align-center":!0,style:{"border-radius":"12px"}},{header:s(()=>[re]),footer:s(()=>[y("span",ie,[p(V,{type:"primary",onClick:l[1]||(l[1]=e=>I())},{default:s(()=>[h(" 添加到文本描述 ")]),_:1}),p(V,{type:"primary",class:"ml-[10px]",plain:!0,onClick:l[2]||(l[2]=e=>B())},{default:s(()=>[h(" 替换当前文本描述 ")]),_:1})])]),default:s(()=>[p(T,{modelValue:g.value,"onUpdate:modelValue":l[0]||(l[0]=e=>g.value=e),onTabChange:C},{default:s(()=>[(t(!0),o(v,null,f(k.value,(e,i)=>(t(),Q(w,{key:i,label:e.name,name:i},null,8,["label","name"]))),128))]),_:1},8,["modelValue"]),p(K,{height:"400px"},{default:s(()=>[n.value.prompt.length||n.value.cate_prompt.length?(t(),o(v,{key:0},[(t(!0),o(v,null,f(n.value.cate_prompt,(e,i)=>(t(),o("div",{key:i,class:"keyword-container"},[y("div",se,u(e.name)+"("+u(e==null?void 0:e.prompt.length)+") ",1),(t(!0),o(v,null,f(e.prompt,m=>(t(),o("div",{key:m.text,class:S(["keyword-item",{"keyword-item-active":r.value.includes(m.promptEn)}]),onClick:_e=>b(m.promptEn)},u(m.promptEn)+" ｜ "+u(m.prompt),11,ne))),128))]))),128)),n.value.prompt.length?(t(),o("div",pe,[n.value.cate_prompt.length?(t(),o("div",ue," 其它("+u(n.value.prompt.length)+") ",1)):P("",!0),(t(!0),o(v,null,f(n.value.prompt,e=>(t(),o("div",{key:e.text,class:S(["keyword-item",{"keyword-item-active":r.value.includes(e.promptEn)}]),onClick:i=>b(e.promptEn)},u(e.promptEn)+" ｜ "+u(e.prompt),11,ce))),128))])):P("",!0)],64)):(t(),o("div",de,[p(D,{title:"提示","sub-title":"暂无对应关键词"},{icon:s(()=>[p(j,{class:"w-[200px] h-[200px]",src:H(te)},null,8,["src"])]),default:s(()=>[h("> ")]),_:1})]))]),_:1})]),_:1},8,["modelValue"])])}}});const Te=oe(me,[["__scopeId","data-v-74cef4b2"]]);export{Te as default};
